var yy=Object.defineProperty;var vy=(i,t,r)=>t in i?yy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var ju=(i,t,r)=>vy(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function wy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bu={exports:{}},Di={},Wu={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function Sy(){if(fh)return te;fh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function z(E,R,ee){this.props=E,this.context=R,this.refs=H,this.updater=ee||A}z.prototype.isReactComponent={},z.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ie(){}ie.prototype=z.prototype;function X(E,R,ee){this.props=E,this.context=R,this.refs=H,this.updater=ee||A}var Q=X.prototype=new ie;Q.constructor=X,O(Q,z.prototype),Q.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,Y={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function Z(E,R,ee){var ne,ue={},ae=null,_e=null;if(R!=null)for(ne in R.ref!==void 0&&(_e=R.ref),R.key!==void 0&&(ae=""+R.key),R)J.call(R,ne)&&!he.hasOwnProperty(ne)&&(ue[ne]=R[ne]);var pe=arguments.length-2;if(pe===1)ue.children=ee;else if(1<pe){for(var Te=Array(pe),ht=0;ht<pe;ht++)Te[ht]=arguments[ht+2];ue.children=Te}if(E&&E.defaultProps)for(ne in pe=E.defaultProps,pe)ue[ne]===void 0&&(ue[ne]=pe[ne]);return{$$typeof:i,type:E,key:ae,ref:_e,props:ue,_owner:Y.current}}function He(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Rt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function qt(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ee){return R[ee]})}var jt=/\/+/g;function dt(E,R){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):R.toString(36)}function xt(E,R,ee,ne,ue){var ae=typeof E;(ae==="undefined"||ae==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ae){case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case i:case t:_e=!0}}if(_e)return _e=E,ue=ue(_e),E=ne===""?"."+dt(_e,0):ne,G(ue)?(ee="",E!=null&&(ee=E.replace(jt,"$&/")+"/"),xt(ue,R,ee,"",function(ht){return ht})):ue!=null&&(Rt(ue)&&(ue=He(ue,ee+(!ue.key||_e&&_e.key===ue.key?"":(""+ue.key).replace(jt,"$&/")+"/")+E)),R.push(ue)),1;if(_e=0,ne=ne===""?".":ne+":",G(E))for(var pe=0;pe<E.length;pe++){ae=E[pe];var Te=ne+dt(ae,pe);_e+=xt(ae,R,ee,Te,ue)}else if(Te=T(E),typeof Te=="function")for(E=Te.call(E),pe=0;!(ae=E.next()).done;)ae=ae.value,Te=ne+dt(ae,pe++),_e+=xt(ae,R,ee,Te,ue);else if(ae==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return _e}function Bt(E,R,ee){if(E==null)return E;var ne=[],ue=0;return xt(E,ne,"","",function(ae){return R.call(ee,ae,ue++)}),ne}function rt(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(ee){(E._status===0||E._status===-1)&&(E._status=1,E._result=ee)},function(ee){(E._status===0||E._status===-1)&&(E._status=2,E._result=ee)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var xe={current:null},L={transition:null},K={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:L,ReactCurrentOwner:Y};function U(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:Bt,forEach:function(E,R,ee){Bt(E,function(){R.apply(this,arguments)},ee)},count:function(E){var R=0;return Bt(E,function(){R++}),R},toArray:function(E){return Bt(E,function(R){return R})||[]},only:function(E){if(!Rt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},te.Component=z,te.Fragment=r,te.Profiler=u,te.PureComponent=X,te.StrictMode=o,te.Suspense=m,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,te.act=U,te.cloneElement=function(E,R,ee){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ne=O({},E.props),ue=E.key,ae=E.ref,_e=E._owner;if(R!=null){if(R.ref!==void 0&&(ae=R.ref,_e=Y.current),R.key!==void 0&&(ue=""+R.key),E.type&&E.type.defaultProps)var pe=E.type.defaultProps;for(Te in R)J.call(R,Te)&&!he.hasOwnProperty(Te)&&(ne[Te]=R[Te]===void 0&&pe!==void 0?pe[Te]:R[Te])}var Te=arguments.length-2;if(Te===1)ne.children=ee;else if(1<Te){pe=Array(Te);for(var ht=0;ht<Te;ht++)pe[ht]=arguments[ht+2];ne.children=pe}return{$$typeof:i,type:E.type,key:ue,ref:ae,props:ne,_owner:_e}},te.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},te.createElement=Z,te.createFactory=function(E){var R=Z.bind(null,E);return R.type=E,R},te.createRef=function(){return{current:null}},te.forwardRef=function(E){return{$$typeof:p,render:E}},te.isValidElement=Rt,te.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:rt}},te.memo=function(E,R){return{$$typeof:g,type:E,compare:R===void 0?null:R}},te.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},te.unstable_act=U,te.useCallback=function(E,R){return xe.current.useCallback(E,R)},te.useContext=function(E){return xe.current.useContext(E)},te.useDebugValue=function(){},te.useDeferredValue=function(E){return xe.current.useDeferredValue(E)},te.useEffect=function(E,R){return xe.current.useEffect(E,R)},te.useId=function(){return xe.current.useId()},te.useImperativeHandle=function(E,R,ee){return xe.current.useImperativeHandle(E,R,ee)},te.useInsertionEffect=function(E,R){return xe.current.useInsertionEffect(E,R)},te.useLayoutEffect=function(E,R){return xe.current.useLayoutEffect(E,R)},te.useMemo=function(E,R){return xe.current.useMemo(E,R)},te.useReducer=function(E,R,ee){return xe.current.useReducer(E,R,ee)},te.useRef=function(E){return xe.current.useRef(E)},te.useState=function(E){return xe.current.useState(E)},te.useSyncExternalStore=function(E,R,ee){return xe.current.useSyncExternalStore(E,R,ee)},te.useTransition=function(){return xe.current.useTransition()},te.version="18.3.1",te}var dh;function Mo(){return dh||(dh=1,Wu.exports=Sy()),Wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function Ey(){if(hh)return Di;hh=1;var i=Mo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var w,y={},T=null,A=null;g!==void 0&&(T=""+g),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(A=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(y[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)y[w]===void 0&&(y[w]=m[w]);return{$$typeof:t,type:p,key:T,ref:A,props:y,_owner:u.current}}return Di.Fragment=r,Di.jsx=d,Di.jsxs=d,Di}var ph;function Cy(){return ph||(ph=1,Bu.exports=Ey()),Bu.exports}var fe=Cy(),ze=Mo();const Np=wy(ze);var fo={},Hu={exports:{}},at={},$u={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function ky(){return mh||(mh=1,function(i){function t(L,K){var U=L.length;L.push(K);e:for(;0<U;){var E=U-1>>>1,R=L[E];if(0<u(R,K))L[E]=K,L[U]=R,U=E;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var K=L[0],U=L.pop();if(U!==K){L[0]=U;e:for(var E=0,R=L.length,ee=R>>>1;E<ee;){var ne=2*(E+1)-1,ue=L[ne],ae=ne+1,_e=L[ae];if(0>u(ue,U))ae<R&&0>u(_e,ue)?(L[E]=_e,L[ae]=U,E=ae):(L[E]=ue,L[ne]=U,E=ne);else if(ae<R&&0>u(_e,U))L[E]=_e,L[ae]=U,E=ae;else break e}}return K}function u(L,K){var U=L.sortIndex-K.sortIndex;return U!==0?U:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],w=1,y=null,T=3,A=!1,O=!1,H=!1,z=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(L){for(var K=r(g);K!==null;){if(K.callback===null)o(g);else if(K.startTime<=L)o(g),K.sortIndex=K.expirationTime,t(m,K);else break;K=r(g)}}function G(L){if(H=!1,Q(L),!O)if(r(m)!==null)O=!0,rt(J);else{var K=r(g);K!==null&&xe(G,K.startTime-L)}}function J(L,K){O=!1,H&&(H=!1,ie(Z),Z=-1),A=!0;var U=T;try{for(Q(K),y=r(m);y!==null&&(!(y.expirationTime>K)||L&&!qt());){var E=y.callback;if(typeof E=="function"){y.callback=null,T=y.priorityLevel;var R=E(y.expirationTime<=K);K=i.unstable_now(),typeof R=="function"?y.callback=R:y===r(m)&&o(m),Q(K)}else o(m);y=r(m)}if(y!==null)var ee=!0;else{var ne=r(g);ne!==null&&xe(G,ne.startTime-K),ee=!1}return ee}finally{y=null,T=U,A=!1}}var Y=!1,he=null,Z=-1,He=5,Rt=-1;function qt(){return!(i.unstable_now()-Rt<He)}function jt(){if(he!==null){var L=i.unstable_now();Rt=L;var K=!0;try{K=he(!0,L)}finally{K?dt():(Y=!1,he=null)}}else Y=!1}var dt;if(typeof X=="function")dt=function(){X(jt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Bt=xt.port2;xt.port1.onmessage=jt,dt=function(){Bt.postMessage(null)}}else dt=function(){z(jt,0)};function rt(L){he=L,Y||(Y=!0,dt())}function xe(L,K){Z=z(function(){L(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){O||A||(O=!0,rt(J))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var U=T;T=K;try{return L()}finally{T=U}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=T;T=L;try{return K()}finally{T=U}},i.unstable_scheduleCallback=function(L,K,U){var E=i.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=U+R,L={id:w++,callback:K,priorityLevel:L,startTime:U,expirationTime:R,sortIndex:-1},U>E?(L.sortIndex=U,t(g,L),r(m)===null&&L===r(g)&&(H?(ie(Z),Z=-1):H=!0,xe(G,U-E))):(L.sortIndex=R,t(m,L),O||A||(O=!0,rt(J))),L},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function(L){var K=T;return function(){var U=T;T=K;try{return L.apply(this,arguments)}finally{T=U}}}}(Vu)),Vu}var gh;function Ty(){return gh||(gh=1,$u.exports=ky()),$u.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function Iy(){if(_h)return at;_h=1;var i=Mo(),t=Ty();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},y={};function T(e){return m.call(y,e)?!0:m.call(w,e)?!1:g.test(e)?y[e]=!0:(w[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,a,f,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ie,X);z[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,n,s,l){var a=z.hasOwnProperty(n)?z[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,a,l)&&(s=null),l||a===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var G=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Y=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),L=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var U=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var ee=!1;function ne(e,n){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),f=l.stack.split(`
`),h=a.length-1,_=f.length-1;1<=h&&0<=_&&a[h]!==f[_];)_--;for(;1<=h&&0<=_;h--,_--)if(a[h]!==f[_]){if(h!==1||_!==1)do if(h--,_--,0>_||a[h]!==f[_]){var v=`
`+a[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=_);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ue(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case Y:return"Portal";case He:return"Profiler";case Z:return"StrictMode";case dt:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Rt:return(e._context.displayName||"Context")+".Provider";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}function _e(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ht(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,f.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){e._valueTracker||(e._valueTracker=ht(e))}function gc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Te(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,n){var s=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function _c(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=pe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function yc(e,n){n=n.checked,n!=null&&Q(e,"checked",n,!1)}function Qo(e,n){yc(e,n);var s=pe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?qo(e,n.type,s):n.hasOwnProperty("defaultValue")&&qo(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function vc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function qo(e,n,s){(n!=="number"||ns(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Gr=Array.isArray;function ur(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+pe(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Yo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Gr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:pe(s)}}function Sc(e,n){var s=pe(n.value),l=pe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Ec(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Cc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Cc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Kr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cg=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){Cg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Qr[n]=Qr[e]})});function Tc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+n).trim():n+"px"}function Ic(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=Tc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var kg=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(e,n){if(n){if(kg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Zo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var el=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,ar=null,cr=null;function Nc(e){if(e=gi(e)){if(typeof nl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Is(n),nl(e.stateNode,e.type,n))}}function Rc(e){ar?cr?cr.push(e):cr=[e]:ar=e}function xc(){if(ar){var e=ar,n=cr;if(cr=ar=null,Nc(e),n)for(e=0;e<n.length;e++)Nc(n[e])}}function Pc(e,n){return e(n)}function Dc(){}var rl=!1;function Ac(e,n,s){if(rl)return e(n,s);rl=!0;try{return Pc(e,n,s)}finally{rl=!1,(ar!==null||cr!==null)&&(Dc(),xc())}}function qr(e,n){var s=e.stateNode;if(s===null)return null;var l=Is(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var il=!1;if(p)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){il=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{il=!1}function Tg(e,n,s,l,a,f,h,_,v){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(x){this.onError(x)}}var Xr=!1,is=null,ss=!1,sl=null,Ig={onError:function(e){Xr=!0,is=e}};function Ng(e,n,s,l,a,f,h,_,v){Xr=!1,is=null,Tg.apply(Ig,arguments)}function Rg(e,n,s,l,a,f,h,_,v){if(Ng.apply(this,arguments),Xr){if(Xr){var I=is;Xr=!1,is=null}else throw Error(r(198));ss||(ss=!0,sl=I)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Oc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Mc(e){if(zn(e)!==e)throw Error(r(188))}function xg(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var f=a.alternate;if(f===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===f.child){for(f=a.child;f;){if(f===s)return Mc(a),e;if(f===l)return Mc(a),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=f;else{for(var h=!1,_=a.child;_;){if(_===s){h=!0,s=a,l=f;break}if(_===l){h=!0,l=a,s=f;break}_=_.sibling}if(!h){for(_=f.child;_;){if(_===s){h=!0,s=f,l=a;break}if(_===l){h=!0,l=f,s=a;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Lc(e){return e=xg(e),e!==null?Fc(e):null}function Fc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Fc(e);if(n!==null)return n;e=e.sibling}return null}var zc=t.unstable_scheduleCallback,bc=t.unstable_cancelCallback,Pg=t.unstable_shouldYield,Dg=t.unstable_requestPaint,De=t.unstable_now,Ag=t.unstable_getCurrentPriorityLevel,ol=t.unstable_ImmediatePriority,Uc=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,Og=t.unstable_LowPriority,jc=t.unstable_IdlePriority,ls=null,Wt=null;function Mg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:zg,Lg=Math.log,Fg=Math.LN2;function zg(e){return e>>>=0,e===0?32:31-(Lg(e)/Fg|0)|0}var us=64,as=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,f=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~a;_!==0?l=Jr(_):(f&=h,f!==0&&(l=Jr(f)))}else h=s&~a,h!==0?l=Jr(h):f!==0&&(l=Jr(f));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,f=n&-n,a>=f||a===16&&(f&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Pt(n),a=1<<s,l|=e[s],n&=~a;return l}function bg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,f=e.pendingLanes;0<f;){var h=31-Pt(f),_=1<<h,v=a[h];v===-1?(!(_&s)||_&l)&&(a[h]=bg(_,n)):v<=n&&(e.expiredLanes|=_),f&=~_}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bc(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function ul(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Zr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pt(n),e[n]=s}function jg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Pt(s),f=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~f}}function al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Pt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var me=0;function Wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hc,cl,$c,Vc,Gc,fl=!1,fs=[],hn=null,pn=null,mn=null,ei=new Map,ti=new Map,gn=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ei.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(n.pointerId)}}function ni(e,n,s,l,a,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[a]},n!==null&&(n=gi(n),n!==null&&cl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function Wg(e,n,s,l,a){switch(n){case"focusin":return hn=ni(hn,e,n,s,l,a),!0;case"dragenter":return pn=ni(pn,e,n,s,l,a),!0;case"mouseover":return mn=ni(mn,e,n,s,l,a),!0;case"pointerover":var f=a.pointerId;return ei.set(f,ni(ei.get(f)||null,e,n,s,l,a)),!0;case"gotpointercapture":return f=a.pointerId,ti.set(f,ni(ti.get(f)||null,e,n,s,l,a)),!0}return!1}function Qc(e){var n=bn(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=Oc(s),n!==null){e.blockedOn=n,Gc(e.priority,function(){$c(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=hl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);el=l,s.target.dispatchEvent(l),el=null}else return n=gi(s),n!==null&&cl(n),e.blockedOn=s,!1;n.shift()}return!0}function qc(e,n,s){ds(e)&&s.delete(n)}function Hg(){fl=!1,hn!==null&&ds(hn)&&(hn=null),pn!==null&&ds(pn)&&(pn=null),mn!==null&&ds(mn)&&(mn=null),ei.forEach(qc),ti.forEach(qc)}function ri(e,n){e.blockedOn===n&&(e.blockedOn=null,fl||(fl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hg)))}function ii(e){function n(a){return ri(a,e)}if(0<fs.length){ri(fs[0],e);for(var s=1;s<fs.length;s++){var l=fs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hn!==null&&ri(hn,e),pn!==null&&ri(pn,e),mn!==null&&ri(mn,e),ei.forEach(n),ti.forEach(n),s=0;s<gn.length;s++)l=gn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)Qc(s),s.blockedOn===null&&gn.shift()}var fr=G.ReactCurrentBatchConfig,hs=!0;function $g(e,n,s,l){var a=me,f=fr.transition;fr.transition=null;try{me=1,dl(e,n,s,l)}finally{me=a,fr.transition=f}}function Vg(e,n,s,l){var a=me,f=fr.transition;fr.transition=null;try{me=4,dl(e,n,s,l)}finally{me=a,fr.transition=f}}function dl(e,n,s,l){if(hs){var a=hl(e,n,s,l);if(a===null)Pl(e,n,l,ps,s),Kc(e,l);else if(Wg(a,e,n,s,l))l.stopPropagation();else if(Kc(e,l),n&4&&-1<Bg.indexOf(e)){for(;a!==null;){var f=gi(a);if(f!==null&&Hc(f),f=hl(e,n,s,l),f===null&&Pl(e,n,l,ps,s),f===a)break;a=f}a!==null&&l.stopPropagation()}else Pl(e,n,l,null,s)}}var ps=null;function hl(e,n,s,l){if(ps=null,e=tl(l),e=bn(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Oc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ps=e,null}function Yc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ag()){case ol:return 1;case Uc:return 4;case os:case Og:return 16;case jc:return 536870912;default:return 16}default:return 16}}var _n=null,pl=null,ms=null;function Xc(){if(ms)return ms;var e,n=pl,s=n.length,l,a="value"in _n?_n.value:_n.textContent,f=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[f-l];l++);return ms=a.slice(e,1<l?1-l:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Jc(){return!1}function pt(e){function n(s,l,a,f,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_s:Jc,this.isPropagationStopped=Jc,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),n}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=pt(dr),si=U({},dr,{view:0,detail:0}),Gg=pt(si),gl,_l,oi,ys=U({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(gl=e.screenX-oi.screenX,_l=e.screenY-oi.screenY):_l=gl=0,oi=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),Zc=pt(ys),Kg=U({},ys,{dataTransfer:0}),Qg=pt(Kg),qg=U({},si,{relatedTarget:0}),yl=pt(qg),Yg=U({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xg=pt(Yg),Jg=U({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zg=pt(Jg),e_=U({},dr,{data:0}),ef=pt(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=r_[e])?!!n[e]:!1}function vl(){return i_}var s_=U({},si,{key:function(e){if(e.key){var n=t_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o_=pt(s_),l_=U({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=pt(l_),u_=U({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),a_=pt(u_),c_=U({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=pt(c_),d_=U({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h_=pt(d_),p_=[9,13,27,32],wl=p&&"CompositionEvent"in window,li=null;p&&"documentMode"in document&&(li=document.documentMode);var m_=p&&"TextEvent"in window&&!li,nf=p&&(!wl||li&&8<li&&11>=li),rf=" ",sf=!1;function of(e,n){switch(e){case"keyup":return p_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function g_(e,n){switch(e){case"compositionend":return lf(n);case"keypress":return n.which!==32?null:(sf=!0,rf);case"textInput":return e=n.data,e===rf&&sf?null:e;default:return null}}function __(e,n){if(hr)return e==="compositionend"||!wl&&of(e,n)?(e=Xc(),ms=pl=_n=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return nf&&n.locale!=="ko"?null:n.data;default:return null}}var y_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!y_[e.type]:n==="textarea"}function af(e,n,s,l){Rc(l),n=Cs(n,"onChange"),0<n.length&&(s=new ml("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ui=null,ai=null;function v_(e){Nf(e,0)}function vs(e){var n=yr(e);if(gc(n))return e}function w_(e,n){if(e==="change")return n}var cf=!1;if(p){var Sl;if(p){var El="oninput"in document;if(!El){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),El=typeof ff.oninput=="function"}Sl=El}else Sl=!1;cf=Sl&&(!document.documentMode||9<document.documentMode)}function df(){ui&&(ui.detachEvent("onpropertychange",hf),ai=ui=null)}function hf(e){if(e.propertyName==="value"&&vs(ai)){var n=[];af(n,ai,e,tl(e)),Ac(v_,n)}}function S_(e,n,s){e==="focusin"?(df(),ui=n,ai=s,ui.attachEvent("onpropertychange",hf)):e==="focusout"&&df()}function E_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(ai)}function C_(e,n){if(e==="click")return vs(n)}function k_(e,n){if(e==="input"||e==="change")return vs(n)}function T_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:T_;function ci(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Dt(e[a],n[a]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mf(e,n){var s=pf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pf(s)}}function gf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _f(){for(var e=window,n=ns();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ns(e.document)}return n}function Cl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function I_(e){var n=_f(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&gf(s.ownerDocument.documentElement,s)){if(l!==null&&Cl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,f=Math.min(l.start,a);l=l.end===void 0?f:Math.min(l.end,a),!e.extend&&f>l&&(a=l,l=f,f=a),a=mf(s,f);var h=mf(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var N_=p&&"documentMode"in document&&11>=document.documentMode,pr=null,kl=null,fi=null,Tl=!1;function yf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tl||pr==null||pr!==ns(l)||(l=pr,"selectionStart"in l&&Cl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fi&&ci(fi,l)||(fi=l,l=Cs(kl,"onSelect"),0<l.length&&(n=new ml("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=pr)))}function ws(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var mr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Il={},vf={};p&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Ss(e){if(Il[e])return Il[e];if(!mr[e])return e;var n=mr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in vf)return Il[e]=n[s];return e}var wf=Ss("animationend"),Sf=Ss("animationiteration"),Ef=Ss("animationstart"),Cf=Ss("transitionend"),kf=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){kf.set(e,n),c(n,[e])}for(var Nl=0;Nl<Tf.length;Nl++){var Rl=Tf[Nl],R_=Rl.toLowerCase(),x_=Rl[0].toUpperCase()+Rl.slice(1);yn(R_,"on"+x_)}yn(wf,"onAnimationEnd"),yn(Sf,"onAnimationIteration"),yn(Ef,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Cf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function If(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Rg(l,n,void 0,e),e.currentTarget=null}function Nf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],v=_.instance,I=_.currentTarget;if(_=_.listener,v!==f&&a.isPropagationStopped())break e;If(a,_,I),f=v}else for(h=0;h<l.length;h++){if(_=l[h],v=_.instance,I=_.currentTarget,_=_.listener,v!==f&&a.isPropagationStopped())break e;If(a,_,I),f=v}}}if(ss)throw e=sl,ss=!1,sl=null,e}function we(e,n){var s=n[Fl];s===void 0&&(s=n[Fl]=new Set);var l=e+"__bubble";s.has(l)||(Rf(n,e,2,!1),s.add(l))}function xl(e,n,s){var l=0;n&&(l|=4),Rf(s,e,l,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[Es]){e[Es]=!0,o.forEach(function(s){s!=="selectionchange"&&(P_.has(s)||xl(s,!1,e),xl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,xl("selectionchange",!1,n))}}function Rf(e,n,s,l){switch(Yc(n)){case 1:var a=$g;break;case 4:a=Vg;break;default:a=dl}s=a.bind(null,n,s,e),a=void 0,!il||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Pl(e,n,s,l,a){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===a||v.nodeType===8&&v.parentNode===a))return;h=h.return}for(;_!==null;){if(h=bn(_),h===null)return;if(v=h.tag,v===5||v===6){l=f=h;continue e}_=_.parentNode}}l=l.return}Ac(function(){var I=f,x=tl(s),P=[];e:{var N=kf.get(e);if(N!==void 0){var F=ml,j=e;switch(e){case"keypress":if(gs(s)===0)break e;case"keydown":case"keyup":F=o_;break;case"focusin":j="focus",F=yl;break;case"focusout":j="blur",F=yl;break;case"beforeblur":case"afterblur":F=yl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=a_;break;case wf:case Sf:case Ef:F=Xg;break;case Cf:F=f_;break;case"scroll":F=Gg;break;case"wheel":F=h_;break;case"copy":case"cut":case"paste":F=Zg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=tf}var B=(n&4)!==0,Ae=!B&&e==="scroll",C=B?N!==null?N+"Capture":null:N;B=[];for(var S=I,k;S!==null;){k=S;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,C!==null&&(D=qr(S,C),D!=null&&B.push(pi(S,D,k)))),Ae)break;S=S.return}0<B.length&&(N=new F(N,j,null,s,x),P.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==el&&(j=s.relatedTarget||s.fromElement)&&(bn(j)||j[Yt]))break e;if((F||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,F?(j=s.relatedTarget||s.toElement,F=I,j=j?bn(j):null,j!==null&&(Ae=zn(j),j!==Ae||j.tag!==5&&j.tag!==6)&&(j=null)):(F=null,j=I),F!==j)){if(B=Zc,D="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(B=tf,D="onPointerLeave",C="onPointerEnter",S="pointer"),Ae=F==null?N:yr(F),k=j==null?N:yr(j),N=new B(D,S+"leave",F,s,x),N.target=Ae,N.relatedTarget=k,D=null,bn(x)===I&&(B=new B(C,S+"enter",j,s,x),B.target=k,B.relatedTarget=Ae,D=B),Ae=D,F&&j)t:{for(B=F,C=j,S=0,k=B;k;k=gr(k))S++;for(k=0,D=C;D;D=gr(D))k++;for(;0<S-k;)B=gr(B),S--;for(;0<k-S;)C=gr(C),k--;for(;S--;){if(B===C||C!==null&&B===C.alternate)break t;B=gr(B),C=gr(C)}B=null}else B=null;F!==null&&xf(P,N,F,B,!1),j!==null&&Ae!==null&&xf(P,Ae,j,B,!0)}}e:{if(N=I?yr(I):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var W=w_;else if(uf(N))if(cf)W=k_;else{W=E_;var $=S_}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=C_);if(W&&(W=W(e,I))){af(P,W,s,x);break e}$&&$(e,N,I),e==="focusout"&&($=N._wrapperState)&&$.controlled&&N.type==="number"&&qo(N,"number",N.value)}switch($=I?yr(I):window,e){case"focusin":(uf($)||$.contentEditable==="true")&&(pr=$,kl=I,fi=null);break;case"focusout":fi=kl=pr=null;break;case"mousedown":Tl=!0;break;case"contextmenu":case"mouseup":case"dragend":Tl=!1,yf(P,s,x);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":yf(P,s,x)}var V;if(wl)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else hr?of(e,s)&&(q="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(q="onCompositionStart");q&&(nf&&s.locale!=="ko"&&(hr||q!=="onCompositionStart"?q==="onCompositionEnd"&&hr&&(V=Xc()):(_n=x,pl="value"in _n?_n.value:_n.textContent,hr=!0)),$=Cs(I,q),0<$.length&&(q=new ef(q,e,null,s,x),P.push({event:q,listeners:$}),V?q.data=V:(V=lf(s),V!==null&&(q.data=V)))),(V=m_?g_(e,s):__(e,s))&&(I=Cs(I,"onBeforeInput"),0<I.length&&(x=new ef("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:I}),x.data=V))}Nf(P,n)})}function pi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Cs(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,f=a.stateNode;a.tag===5&&f!==null&&(a=f,f=qr(e,s),f!=null&&l.unshift(pi(e,f,a)),f=qr(e,n),f!=null&&l.push(pi(e,f,a))),e=e.return}return l}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xf(e,n,s,l,a){for(var f=n._reactName,h=[];s!==null&&s!==l;){var _=s,v=_.alternate,I=_.stateNode;if(v!==null&&v===l)break;_.tag===5&&I!==null&&(_=I,a?(v=qr(s,f),v!=null&&h.unshift(pi(s,v,_))):a||(v=qr(s,f),v!=null&&h.push(pi(s,v,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var D_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(D_,`
`).replace(A_,"")}function ks(e,n,s){if(n=Pf(n),Pf(e)!==n&&s)throw Error(r(425))}function Ts(){}var Dl=null,Al=null;function Ol(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,O_=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(e){return Df.resolve(null).then(e).catch(L_)}:Ml;function L_(e){setTimeout(function(){throw e})}function Ll(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),ii(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);ii(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Ht="__reactFiber$"+_r,mi="__reactProps$"+_r,Yt="__reactContainer$"+_r,Fl="__reactEvents$"+_r,F_="__reactListeners$"+_r,z_="__reactHandles$"+_r;function bn(e){var n=e[Ht];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Ht]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Af(e);e!==null;){if(s=e[Ht])return s;e=Af(e)}return n}e=s,s=e.parentNode}return null}function gi(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Is(e){return e[mi]||null}var zl=[],vr=-1;function wn(e){return{current:e}}function Se(e){0>vr||(e.current=zl[vr],zl[vr]=null,vr--)}function ye(e,n){vr++,zl[vr]=e.current,e.current=n}var Sn={},qe=wn(Sn),it=wn(!1),Un=Sn;function wr(e,n){var s=e.type.contextTypes;if(!s)return Sn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},f;for(f in s)a[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function Ns(){Se(it),Se(qe)}function Of(e,n,s){if(qe.current!==Sn)throw Error(r(168));ye(qe,n),ye(it,s)}function Mf(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,_e(e)||"Unknown",a));return U({},s,l)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Un=qe.current,ye(qe,e),ye(it,it.current),!0}function Lf(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Mf(e,n,Un),l.__reactInternalMemoizedMergedChildContext=e,Se(it),Se(qe),ye(qe,e)):Se(it),ye(it,s)}var Xt=null,xs=!1,bl=!1;function Ff(e){Xt===null?Xt=[e]:Xt.push(e)}function b_(e){xs=!0,Ff(e)}function En(){if(!bl&&Xt!==null){bl=!0;var e=0,n=me;try{var s=Xt;for(me=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xt=null,xs=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),zc(ol,En),a}finally{me=n,bl=!1}}return null}var Sr=[],Er=0,Ps=null,Ds=0,wt=[],St=0,jn=null,Jt=1,Zt="";function Bn(e,n){Sr[Er++]=Ds,Sr[Er++]=Ps,Ps=e,Ds=n}function zf(e,n,s){wt[St++]=Jt,wt[St++]=Zt,wt[St++]=jn,jn=e;var l=Jt;e=Zt;var a=32-Pt(l)-1;l&=~(1<<a),s+=1;var f=32-Pt(n)+a;if(30<f){var h=a-a%5;f=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Jt=1<<32-Pt(n)+a|s<<a|l,Zt=f+e}else Jt=1<<f|s<<a|l,Zt=e}function Ul(e){e.return!==null&&(Bn(e,1),zf(e,1,0))}function jl(e){for(;e===Ps;)Ps=Sr[--Er],Sr[Er]=null,Ds=Sr[--Er],Sr[Er]=null;for(;e===jn;)jn=wt[--St],wt[St]=null,Zt=wt[--St],wt[St]=null,Jt=wt[--St],wt[St]=null}var mt=null,gt=null,Ie=!1,At=null;function bf(e,n){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Uf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mt=e,gt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mt=e,gt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=jn!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,mt=e,gt=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if(Ie){var n=gt;if(n){var s=n;if(!Uf(e,n)){if(Bl(e))throw Error(r(418));n=vn(s.nextSibling);var l=mt;n&&Uf(e,n)?bf(l,s):(e.flags=e.flags&-4097|2,Ie=!1,mt=e)}}else{if(Bl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ie=!1,mt=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function As(e){if(e!==mt)return!1;if(!Ie)return jf(e),Ie=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ol(e.type,e.memoizedProps)),n&&(n=gt)){if(Bl(e))throw Bf(),Error(r(418));for(;n;)bf(e,n),n=vn(n.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){gt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}gt=null}}else gt=mt?vn(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=gt;e;)e=vn(e.nextSibling)}function Cr(){gt=mt=null,Ie=!1}function Hl(e){At===null?At=[e]:At.push(e)}var U_=G.ReactCurrentBatchConfig;function _i(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(h){var _=a.refs;h===null?delete _[f]:_[f]=h},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Os(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Wf(e){var n=e._init;return n(e._payload)}function Hf(e){function n(C,S){if(e){var k=C.deletions;k===null?(C.deletions=[S],C.flags|=16):k.push(S)}}function s(C,S){if(!e)return null;for(;S!==null;)n(C,S),S=S.sibling;return null}function l(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function a(C,S){return C=Pn(C,S),C.index=0,C.sibling=null,C}function f(C,S,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<S?(C.flags|=2,S):k):(C.flags|=2,S)):(C.flags|=1048576,S)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,S,k,D){return S===null||S.tag!==6?(S=Mu(k,C.mode,D),S.return=C,S):(S=a(S,k),S.return=C,S)}function v(C,S,k,D){var W=k.type;return W===he?x(C,S,k.props.children,D,k.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Wf(W)===S.type)?(D=a(S,k.props),D.ref=_i(C,S,k),D.return=C,D):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=_i(C,S,k),D.return=C,D)}function I(C,S,k,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=Lu(k,C.mode,D),S.return=C,S):(S=a(S,k.children||[]),S.return=C,S)}function x(C,S,k,D,W){return S===null||S.tag!==7?(S=qn(k,C.mode,D,W),S.return=C,S):(S=a(S,k),S.return=C,S)}function P(C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mu(""+S,C.mode,k),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case J:return k=ro(S.type,S.key,S.props,null,C.mode,k),k.ref=_i(C,null,S),k.return=C,k;case Y:return S=Lu(S,C.mode,k),S.return=C,S;case rt:var D=S._init;return P(C,D(S._payload),k)}if(Gr(S)||K(S))return S=qn(S,C.mode,k,null),S.return=C,S;Os(C,S)}return null}function N(C,S,k,D){var W=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:_(C,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case J:return k.key===W?v(C,S,k,D):null;case Y:return k.key===W?I(C,S,k,D):null;case rt:return W=k._init,N(C,S,W(k._payload),D)}if(Gr(k)||K(k))return W!==null?null:x(C,S,k,D,null);Os(C,k)}return null}function F(C,S,k,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(k)||null,_(S,C,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case J:return C=C.get(D.key===null?k:D.key)||null,v(S,C,D,W);case Y:return C=C.get(D.key===null?k:D.key)||null,I(S,C,D,W);case rt:var $=D._init;return F(C,S,k,$(D._payload),W)}if(Gr(D)||K(D))return C=C.get(k)||null,x(S,C,D,W,null);Os(S,D)}return null}function j(C,S,k,D){for(var W=null,$=null,V=S,q=S=0,je=null;V!==null&&q<k.length;q++){V.index>q?(je=V,V=null):je=V.sibling;var ce=N(C,V,k[q],D);if(ce===null){V===null&&(V=je);break}e&&V&&ce.alternate===null&&n(C,V),S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce,V=je}if(q===k.length)return s(C,V),Ie&&Bn(C,q),W;if(V===null){for(;q<k.length;q++)V=P(C,k[q],D),V!==null&&(S=f(V,S,q),$===null?W=V:$.sibling=V,$=V);return Ie&&Bn(C,q),W}for(V=l(C,V);q<k.length;q++)je=F(V,C,q,k[q],D),je!==null&&(e&&je.alternate!==null&&V.delete(je.key===null?q:je.key),S=f(je,S,q),$===null?W=je:$.sibling=je,$=je);return e&&V.forEach(function(Dn){return n(C,Dn)}),Ie&&Bn(C,q),W}function B(C,S,k,D){var W=K(k);if(typeof W!="function")throw Error(r(150));if(k=W.call(k),k==null)throw Error(r(151));for(var $=W=null,V=S,q=S=0,je=null,ce=k.next();V!==null&&!ce.done;q++,ce=k.next()){V.index>q?(je=V,V=null):je=V.sibling;var Dn=N(C,V,ce.value,D);if(Dn===null){V===null&&(V=je);break}e&&V&&Dn.alternate===null&&n(C,V),S=f(Dn,S,q),$===null?W=Dn:$.sibling=Dn,$=Dn,V=je}if(ce.done)return s(C,V),Ie&&Bn(C,q),W;if(V===null){for(;!ce.done;q++,ce=k.next())ce=P(C,ce.value,D),ce!==null&&(S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce);return Ie&&Bn(C,q),W}for(V=l(C,V);!ce.done;q++,ce=k.next())ce=F(V,C,q,ce.value,D),ce!==null&&(e&&ce.alternate!==null&&V.delete(ce.key===null?q:ce.key),S=f(ce,S,q),$===null?W=ce:$.sibling=ce,$=ce);return e&&V.forEach(function(_y){return n(C,_y)}),Ie&&Bn(C,q),W}function Ae(C,S,k,D){if(typeof k=="object"&&k!==null&&k.type===he&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case J:e:{for(var W=k.key,$=S;$!==null;){if($.key===W){if(W=k.type,W===he){if($.tag===7){s(C,$.sibling),S=a($,k.props.children),S.return=C,C=S;break e}}else if($.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Wf(W)===$.type){s(C,$.sibling),S=a($,k.props),S.ref=_i(C,$,k),S.return=C,C=S;break e}s(C,$);break}else n(C,$);$=$.sibling}k.type===he?(S=qn(k.props.children,C.mode,D,k.key),S.return=C,C=S):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=_i(C,S,k),D.return=C,C=D)}return h(C);case Y:e:{for($=k.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){s(C,S.sibling),S=a(S,k.children||[]),S.return=C,C=S;break e}else{s(C,S);break}else n(C,S);S=S.sibling}S=Lu(k,C.mode,D),S.return=C,C=S}return h(C);case rt:return $=k._init,Ae(C,S,$(k._payload),D)}if(Gr(k))return j(C,S,k,D);if(K(k))return B(C,S,k,D);Os(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(s(C,S.sibling),S=a(S,k),S.return=C,C=S):(s(C,S),S=Mu(k,C.mode,D),S.return=C,C=S),h(C)):s(C,S)}return Ae}var kr=Hf(!0),$f=Hf(!1),Ms=wn(null),Ls=null,Tr=null,$l=null;function Vl(){$l=Tr=Ls=null}function Gl(e){var n=Ms.current;Se(Ms),e._currentValue=n}function Kl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ir(e,n){Ls=e,$l=Tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ot=!0),e.firstContext=null)}function Et(e){var n=e._currentValue;if($l!==e)if(e={context:e,memoizedValue:n,next:null},Tr===null){if(Ls===null)throw Error(r(308));Tr=e,Ls.dependencies={lanes:0,firstContext:e}}else Tr=Tr.next=e;return n}var Wn=null;function Ql(e){Wn===null?Wn=[e]:Wn.push(e)}function Vf(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,Ql(n)):(s.next=a.next,a.next=s),n.interleaved=s,en(e,l)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,le&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,en(e,s)}return a=l.interleaved,a===null?(n.next=n,Ql(l)):(n.next=a.next,a.next=n),l.interleaved=n,en(e,s)}function Fs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}function Kf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?a=f=h:f=f.next=h,s=s.next}while(s!==null);f===null?a=f=n:f=f.next=n}else a=f=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function zs(e,n,s,l){var a=e.updateQueue;Cn=!1;var f=a.firstBaseUpdate,h=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var v=_,I=v.next;v.next=null,h===null?f=I:h.next=I,h=v;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==h&&(_===null?x.firstBaseUpdate=I:_.next=I,x.lastBaseUpdate=v))}if(f!==null){var P=a.baseState;h=0,x=I=v=null,_=f;do{var N=_.lane,F=_.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var j=e,B=_;switch(N=n,F=s,B.tag){case 1:if(j=B.payload,typeof j=="function"){P=j.call(F,P,N);break e}P=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=B.payload,N=typeof j=="function"?j.call(F,P,N):j,N==null)break e;P=U({},P,N);break e;case 2:Cn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[_]:N.push(_))}else F={eventTime:F,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(I=x=F,v=P):x=x.next=F,h|=N;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;N=_,_=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(v=P),a.baseState=v,a.firstBaseUpdate=I,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else f===null&&(a.shared.lanes=0);Vn|=h,e.lanes=h,e.memoizedState=P}}function Qf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var yi={},$t=wn(yi),vi=wn(yi),wi=wn(yi);function Hn(e){if(e===yi)throw Error(r(174));return e}function Yl(e,n){switch(ye(wi,n),ye(vi,e),ye($t,yi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Xo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Xo(n,e)}Se($t),ye($t,n)}function Nr(){Se($t),Se(vi),Se(wi)}function qf(e){Hn(wi.current);var n=Hn($t.current),s=Xo(n,e.type);n!==s&&(ye(vi,e),ye($t,s))}function Xl(e){vi.current===e&&(Se($t),Se(vi))}var Ne=wn(0);function bs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Jl=[];function Zl(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Us=G.ReactCurrentDispatcher,eu=G.ReactCurrentBatchConfig,$n=0,Re=null,Me=null,be=null,js=!1,Si=!1,Ei=0,j_=0;function Ye(){throw Error(r(321))}function tu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function nu(e,n,s,l,a,f){if($n=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Us.current=e===null||e.memoizedState===null?$_:V_,e=s(l,a),Si){f=0;do{if(Si=!1,Ei=0,25<=f)throw Error(r(301));f+=1,be=Me=null,n.updateQueue=null,Us.current=G_,e=s(l,a)}while(Si)}if(Us.current=Hs,n=Me!==null&&Me.next!==null,$n=0,be=Me=Re=null,js=!1,n)throw Error(r(300));return e}function ru(){var e=Ei!==0;return Ei=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Re.memoizedState=be=e:be=be.next=e,be}function Ct(){if(Me===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=be===null?Re.memoizedState:be.next;if(n!==null)be=n,Me=e;else{if(e===null)throw Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},be===null?Re.memoizedState=be=e:be=be.next=e}return be}function Ci(e,n){return typeof n=="function"?n(e):n}function iu(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Me,a=l.baseQueue,f=s.pending;if(f!==null){if(a!==null){var h=a.next;a.next=f.next,f.next=h}l.baseQueue=a=f,s.pending=null}if(a!==null){f=a.next,l=l.baseState;var _=h=null,v=null,I=f;do{var x=I.lane;if(($n&x)===x)v!==null&&(v=v.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var P={lane:x,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};v===null?(_=v=P,h=l):v=v.next=P,Re.lanes|=x,Vn|=x}I=I.next}while(I!==null&&I!==f);v===null?h=l:v.next=_,Dt(l,n.memoizedState)||(ot=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=v,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do f=a.lane,Re.lanes|=f,Vn|=f,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function su(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,f=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do f=e(f,h.action),h=h.next;while(h!==a);Dt(f,n.memoizedState)||(ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Yf(){}function Xf(e,n){var s=Re,l=Ct(),a=n(),f=!Dt(l.memoizedState,a);if(f&&(l.memoizedState=a,ot=!0),l=l.queue,ou(ed.bind(null,s,l,e),[e]),l.getSnapshot!==n||f||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,ki(9,Zf.bind(null,s,l,a,n),void 0,null),Ue===null)throw Error(r(349));$n&30||Jf(s,n,a)}return a}function Jf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Zf(e,n,s,l){n.value=s,n.getSnapshot=l,td(n)&&nd(e)}function ed(e,n,s){return s(function(){td(n)&&nd(e)})}function td(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function nd(e){var n=en(e,1);n!==null&&Ft(n,e,1,-1)}function rd(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n.queue=e,e=e.dispatch=H_.bind(null,Re,e),[n.memoizedState,e]}function ki(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=Re.updateQueue,n===null?(n={lastEffect:null,stores:null},Re.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function id(){return Ct().memoizedState}function Bs(e,n,s,l){var a=Vt();Re.flags|=e,a.memoizedState=ki(1|n,s,void 0,l===void 0?null:l)}function Ws(e,n,s,l){var a=Ct();l=l===void 0?null:l;var f=void 0;if(Me!==null){var h=Me.memoizedState;if(f=h.destroy,l!==null&&tu(l,h.deps)){a.memoizedState=ki(n,s,f,l);return}}Re.flags|=e,a.memoizedState=ki(1|n,s,f,l)}function sd(e,n){return Bs(8390656,8,e,n)}function ou(e,n){return Ws(2048,8,e,n)}function od(e,n){return Ws(4,2,e,n)}function ld(e,n){return Ws(4,4,e,n)}function ud(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ad(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4,4,ud.bind(null,n,e),s)}function lu(){}function cd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&tu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function fd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&tu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function dd(e,n,s){return $n&21?(Dt(s,n)||(s=Bc(),Re.lanes|=s,Vn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s)}function B_(e,n){var s=me;me=s!==0&&4>s?s:4,e(!0);var l=eu.transition;eu.transition={};try{e(!1),n()}finally{me=s,eu.transition=l}}function hd(){return Ct().memoizedState}function W_(e,n,s){var l=Rn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},pd(e))md(n,s);else if(s=Vf(e,n,s,l),s!==null){var a=nt();Ft(s,e,l,a),gd(s,n,l)}}function H_(e,n,s){var l=Rn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(pd(e))md(n,a);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var h=n.lastRenderedState,_=f(h,s);if(a.hasEagerState=!0,a.eagerState=_,Dt(_,h)){var v=n.interleaved;v===null?(a.next=a,Ql(n)):(a.next=v.next,v.next=a),n.interleaved=a;return}}catch{}finally{}s=Vf(e,n,a,l),s!==null&&(a=nt(),Ft(s,e,l,a),gd(s,n,l))}}function pd(e){var n=e.alternate;return e===Re||n!==null&&n===Re}function md(e,n){Si=js=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function gd(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}var Hs={readContext:Et,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},$_={readContext:Et,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:sd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Bs(4194308,4,ud.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bs(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=W_.bind(null,Re,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:rd,useDebugValue:lu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=rd(!1),n=e[0];return e=B_.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=Re,a=Vt();if(Ie){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ue===null)throw Error(r(349));$n&30||Jf(l,n,s)}a.memoizedState=s;var f={value:s,getSnapshot:n};return a.queue=f,sd(ed.bind(null,l,f,e),[e]),l.flags|=2048,ki(9,Zf.bind(null,l,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=Ue.identifierPrefix;if(Ie){var s=Zt,l=Jt;s=(l&~(1<<32-Pt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ei++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=j_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},V_={readContext:Et,useCallback:cd,useContext:Et,useEffect:ou,useImperativeHandle:ad,useInsertionEffect:od,useLayoutEffect:ld,useMemo:fd,useReducer:iu,useRef:id,useState:function(){return iu(Ci)},useDebugValue:lu,useDeferredValue:function(e){var n=Ct();return dd(n,Me.memoizedState,e)},useTransition:function(){var e=iu(Ci)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Yf,useSyncExternalStore:Xf,useId:hd,unstable_isNewReconciler:!1},G_={readContext:Et,useCallback:cd,useContext:Et,useEffect:ou,useImperativeHandle:ad,useInsertionEffect:od,useLayoutEffect:ld,useMemo:fd,useReducer:su,useRef:id,useState:function(){return su(Ci)},useDebugValue:lu,useDeferredValue:function(e){var n=Ct();return Me===null?n.memoizedState=e:dd(n,Me.memoizedState,e)},useTransition:function(){var e=su(Ci)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Yf,useSyncExternalStore:Xf,useId:hd,unstable_isNewReconciler:!1};function Ot(e,n){if(e&&e.defaultProps){n=U({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function uu(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:U({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $s={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),Fs(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),Fs(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=nt(),l=Rn(e),a=tn(s,l);a.tag=2,n!=null&&(a.callback=n),n=kn(e,a,l),n!==null&&(Ft(n,e,l,s),Fs(n,e,l))}};function _d(e,n,s,l,a,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,h):n.prototype&&n.prototype.isPureReactComponent?!ci(s,l)||!ci(a,f):!0}function yd(e,n,s){var l=!1,a=Sn,f=n.contextType;return typeof f=="object"&&f!==null?f=Et(f):(a=st(n)?Un:qe.current,l=n.contextTypes,f=(l=l!=null)?wr(e,a):Sn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=$s,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=f),n}function vd(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&$s.enqueueReplaceState(n,n.state,null)}function au(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},ql(e);var f=n.contextType;typeof f=="object"&&f!==null?a.context=Et(f):(f=st(n)?Un:qe.current,a.context=wr(e,f)),a.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(uu(e,n,f,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&$s.enqueueReplaceState(a,a.state,null),zs(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,n){try{var s="",l=n;do s+=ue(l),l=l.return;while(l);var a=s}catch(f){a=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:a,digest:null}}function cu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function fu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function wd(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Xs||(Xs=!0,Iu=l),fu(e,n)},s}function Sd(e,n,s){s=tn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){fu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){fu(e,n),typeof l!="function"&&(In===null?In=new Set([this]):In.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function Ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new K_;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=ly.bind(null,e,n,s),n.then(e,e))}function Cd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function kd(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var Q_=G.ReactCurrentOwner,ot=!1;function tt(e,n,s,l){n.child=e===null?$f(n,null,s,l):kr(n,e.child,s,l)}function Td(e,n,s,l,a){s=s.render;var f=n.ref;return Ir(n,a),l=nu(e,n,s,l,f,a),s=ru(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&s&&Ul(n),n.flags|=1,tt(e,n,l,a),n.child)}function Id(e,n,s,l,a){if(e===null){var f=s.type;return typeof f=="function"&&!Ou(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Nd(e,n,f,l,a)):(e=ro(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&a)){var h=f.memoizedProps;if(s=s.compare,s=s!==null?s:ci,s(h,l)&&e.ref===n.ref)return nn(e,n,a)}return n.flags|=1,e=Pn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Nd(e,n,s,l,a){if(e!==null){var f=e.memoizedProps;if(ci(f,l)&&e.ref===n.ref)if(ot=!1,n.pendingProps=l=f,(e.lanes&a)!==0)e.flags&131072&&(ot=!0);else return n.lanes=e.lanes,nn(e,n,a)}return du(e,n,s,l,a)}function Rd(e,n,s){var l=n.pendingProps,a=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Pr,_t),_t|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ye(Pr,_t),_t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:s,ye(Pr,_t),_t|=l}else f!==null?(l=f.baseLanes|s,n.memoizedState=null):l=s,ye(Pr,_t),_t|=l;return tt(e,n,a,s),n.child}function xd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function du(e,n,s,l,a){var f=st(s)?Un:qe.current;return f=wr(n,f),Ir(n,a),s=nu(e,n,s,l,f,a),l=ru(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&l&&Ul(n),n.flags|=1,tt(e,n,s,a),n.child)}function Pd(e,n,s,l,a){if(st(s)){var f=!0;Rs(n)}else f=!1;if(Ir(n,a),n.stateNode===null)Gs(e,n),yd(n,s,l),au(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var v=h.context,I=s.contextType;typeof I=="object"&&I!==null?I=Et(I):(I=st(s)?Un:qe.current,I=wr(n,I));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||v!==I)&&vd(n,h,l,I),Cn=!1;var N=n.memoizedState;h.state=N,zs(n,l,h,a),v=n.memoizedState,_!==l||N!==v||it.current||Cn?(typeof x=="function"&&(uu(n,s,x,l),v=n.memoizedState),(_=Cn||_d(n,s,_,l,N,v,I))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=v),h.props=l,h.state=v,h.context=I,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Gf(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:Ot(n.type,_),h.props=I,P=n.pendingProps,N=h.context,v=s.contextType,typeof v=="object"&&v!==null?v=Et(v):(v=st(s)?Un:qe.current,v=wr(n,v));var F=s.getDerivedStateFromProps;(x=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==v)&&vd(n,h,l,v),Cn=!1,N=n.memoizedState,h.state=N,zs(n,l,h,a);var j=n.memoizedState;_!==P||N!==j||it.current||Cn?(typeof F=="function"&&(uu(n,s,F,l),j=n.memoizedState),(I=Cn||_d(n,s,I,l,N,j,v)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,v)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=v,l=I):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return hu(e,n,s,l,f,a)}function hu(e,n,s,l,a,f){xd(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Lf(n,s,!1),nn(e,n,f);l=n.stateNode,Q_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=kr(n,e.child,null,f),n.child=kr(n,null,_,f)):tt(e,n,_,f),n.memoizedState=l.state,a&&Lf(n,s,!0),n.child}function Dd(e){var n=e.stateNode;n.pendingContext?Of(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Of(e,n.context,!1),Yl(e,n.containerInfo)}function Ad(e,n,s,l,a){return Cr(),Hl(a),n.flags|=256,tt(e,n,s,l),n.child}var pu={dehydrated:null,treeContext:null,retryLane:0};function mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Od(e,n,s){var l=n.pendingProps,a=Ne.current,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Ne,a&1),e===null)return Wl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,f?(l=n.mode,f=n.child,h={mode:"hidden",children:h},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=h):f=io(h,l,0,null),e=qn(e,l,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=mu(s),n.memoizedState=pu,e):gu(n,h));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return q_(e,n,h,l,_,a,s);if(f){f=l.fallback,h=n.mode,a=e.child,_=a.sibling;var v={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=v,n.deletions=null):(l=Pn(a,v),l.subtreeFlags=a.subtreeFlags&14680064),_!==null?f=Pn(_,f):(f=qn(f,h,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,h=e.child.memoizedState,h=h===null?mu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},f.memoizedState=h,f.childLanes=e.childLanes&~s,n.memoizedState=pu,l}return f=e.child,e=f.sibling,l=Pn(f,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function gu(e,n){return n=io({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Vs(e,n,s,l){return l!==null&&Hl(l),kr(n,e.child,null,s),e=gu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function q_(e,n,s,l,a,f,h){if(s)return n.flags&256?(n.flags&=-257,l=cu(Error(r(422))),Vs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,a=n.mode,l=io({mode:"visible",children:l.children},a,0,null),f=qn(f,a,h,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,n.mode&1&&kr(n,e.child,null,h),n.child.memoizedState=mu(h),n.memoizedState=pu,f);if(!(n.mode&1))return Vs(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(r(419)),l=cu(f,l,void 0),Vs(e,n,h,l)}if(_=(h&e.childLanes)!==0,ot||_){if(l=Ue,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==f.retryLane&&(f.retryLane=a,en(e,a),Ft(l,e,a,-1))}return Au(),l=cu(Error(r(421))),Vs(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=uy.bind(null,e),a._reactRetry=n,null):(e=f.treeContext,gt=vn(a.nextSibling),mt=n,Ie=!0,At=null,e!==null&&(wt[St++]=Jt,wt[St++]=Zt,wt[St++]=jn,Jt=e.id,Zt=e.overflow,jn=n),n=gu(n,l.children),n.flags|=4096,n)}function Md(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Kl(e.return,n,s)}function _u(e,n,s,l,a){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=a)}function Ld(e,n,s){var l=n.pendingProps,a=l.revealOrder,f=l.tail;if(tt(e,n,l.children,s),l=Ne.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Md(e,s,n);else if(e.tag===19)Md(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ye(Ne,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&bs(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),_u(n,!1,a,s,f);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&bs(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}_u(n,!0,s,null,f);break;case"together":_u(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Y_(e,n,s){switch(n.tag){case 3:Dd(n),Cr();break;case 5:qf(n);break;case 1:st(n.type)&&Rs(n);break;case 4:Yl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ye(Ms,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ye(Ne,Ne.current&1),n.flags|=128,null):s&n.child.childLanes?Od(e,n,s):(ye(Ne,Ne.current&1),e=nn(e,n,s),e!==null?e.sibling:null);ye(Ne,Ne.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Ld(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Rd(e,n,s)}return nn(e,n,s)}var Fd,yu,zd,bd;Fd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},yu=function(){},zd=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Hn($t.current);var f=null;switch(s){case"input":a=Ko(e,a),l=Ko(e,l),f=[];break;case"select":a=U({},a,{value:void 0}),l=U({},l,{value:void 0}),f=[];break;case"textarea":a=Yo(e,a),l=Yo(e,l),f=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ts)}Jo(s,l);var h;s=null;for(I in a)if(!l.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var _=a[I];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in l){var v=l[I];if(_=a!=null?a[I]:void 0,l.hasOwnProperty(I)&&v!==_&&(v!=null||_!=null))if(I==="style")if(_){for(h in _)!_.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in v)v.hasOwnProperty(h)&&_[h]!==v[h]&&(s||(s={}),s[h]=v[h])}else s||(f||(f=[]),f.push(I,s)),s=v;else I==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,_=_?_.__html:void 0,v!=null&&_!==v&&(f=f||[]).push(I,v)):I==="children"?typeof v!="string"&&typeof v!="number"||(f=f||[]).push(I,""+v):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(u.hasOwnProperty(I)?(v!=null&&I==="onScroll"&&we("scroll",e),f||_===v||(f=[])):(f=f||[]).push(I,v))}s&&(f=f||[]).push("style",s);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},bd=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ti(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function X_(e,n,s){var l=n.pendingProps;switch(jl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return st(n.type)&&Ns(),Xe(n),null;case 3:return l=n.stateNode,Nr(),Se(it),Se(qe),Zl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,At!==null&&(xu(At),At=null))),yu(e,n),Xe(n),null;case 5:Xl(n);var a=Hn(wi.current);if(s=n.type,e!==null&&n.stateNode!=null)zd(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Xe(n),null}if(e=Hn($t.current),As(n)){l=n.stateNode,s=n.type;var f=n.memoizedProps;switch(l[Ht]=n,l[mi]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(a=0;a<di.length;a++)we(di[a],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":_c(l,f),we("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},we("invalid",l);break;case"textarea":wc(l,f),we("invalid",l)}Jo(s,f),a=null;for(var h in f)if(f.hasOwnProperty(h)){var _=f[h];h==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&ks(l.textContent,_,e),a=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&ks(l.textContent,_,e),a=["children",""+_]):u.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&we("scroll",l)}switch(s){case"input":ts(l),vc(l,f,!0);break;case"textarea":ts(l),Ec(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ts)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ht]=n,e[mi]=l,Fd(e,n,!1,!1),n.stateNode=e;e:{switch(h=Zo(s,l),s){case"dialog":we("cancel",e),we("close",e),a=l;break;case"iframe":case"object":case"embed":we("load",e),a=l;break;case"video":case"audio":for(a=0;a<di.length;a++)we(di[a],e);a=l;break;case"source":we("error",e),a=l;break;case"img":case"image":case"link":we("error",e),we("load",e),a=l;break;case"details":we("toggle",e),a=l;break;case"input":_c(e,l),a=Ko(e,l),we("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=U({},l,{value:void 0}),we("invalid",e);break;case"textarea":wc(e,l),a=Yo(e,l),we("invalid",e);break;default:a=l}Jo(s,a),_=a;for(f in _)if(_.hasOwnProperty(f)){var v=_[f];f==="style"?Ic(e,v):f==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&kc(e,v)):f==="children"?typeof v=="string"?(s!=="textarea"||v!=="")&&Kr(e,v):typeof v=="number"&&Kr(e,""+v):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?v!=null&&f==="onScroll"&&we("scroll",e):v!=null&&Q(e,f,v,h))}switch(s){case"input":ts(e),vc(e,l,!1);break;case"textarea":ts(e),Ec(e);break;case"option":l.value!=null&&e.setAttribute("value",""+pe(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?ur(e,!!l.multiple,f,!1):l.defaultValue!=null&&ur(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ts)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Xe(n),null;case 6:if(e&&n.stateNode!=null)bd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Hn(wi.current),Hn($t.current),As(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ht]=n,(f=l.nodeValue!==s)&&(e=mt,e!==null))switch(e.tag){case 3:ks(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(l.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ht]=n,n.stateNode=l}return Xe(n),null;case 13:if(Se(Ne),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&gt!==null&&n.mode&1&&!(n.flags&128))Bf(),Cr(),n.flags|=98560,f=!1;else if(f=As(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ht]=n}else Cr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Xe(n),f=!1}else At!==null&&(xu(At),At=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ne.current&1?Le===0&&(Le=3):Au())),n.updateQueue!==null&&(n.flags|=4),Xe(n),null);case 4:return Nr(),yu(e,n),e===null&&hi(n.stateNode.containerInfo),Xe(n),null;case 10:return Gl(n.type._context),Xe(n),null;case 17:return st(n.type)&&Ns(),Xe(n),null;case 19:if(Se(Ne),f=n.memoizedState,f===null)return Xe(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ti(f,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=bs(e),h!==null){for(n.flags|=128,Ti(f,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)f=s,e=l,f.flags&=14680066,h=f.alternate,h===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=h.childLanes,f.lanes=h.lanes,f.child=h.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=h.memoizedProps,f.memoizedState=h.memoizedState,f.updateQueue=h.updateQueue,f.type=h.type,e=h.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Ne,Ne.current&1|2),n.child}e=e.sibling}f.tail!==null&&De()>Dr&&(n.flags|=128,l=!0,Ti(f,!1),n.lanes=4194304)}else{if(!l)if(e=bs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ti(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Ie)return Xe(n),null}else 2*De()-f.renderingStartTime>Dr&&s!==1073741824&&(n.flags|=128,l=!0,Ti(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(s=f.last,s!==null?s.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=De(),n.sibling=null,s=Ne.current,ye(Ne,l?s&1|2:s&1),n):(Xe(n),null);case 22:case 23:return Du(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?_t&1073741824&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function J_(e,n){switch(jl(n),n.tag){case 1:return st(n.type)&&Ns(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nr(),Se(it),Se(qe),Zl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Xl(n),null;case 13:if(Se(Ne),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(Ne),null;case 4:return Nr(),null;case 10:return Gl(n.type._context),null;case 22:case 23:return Du(),null;case 24:return null;default:return null}}var Ks=!1,Je=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,b=null;function xr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Pe(e,n,l)}else s.current=null}function vu(e,n,s){try{s()}catch(l){Pe(e,n,l)}}var Ud=!1;function ey(e,n){if(Dl=hs,e=_f(),Cl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,I=0,x=0,P=e,N=null;t:for(;;){for(var F;P!==s||a!==0&&P.nodeType!==3||(_=h+a),P!==f||l!==0&&P.nodeType!==3||(v=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break t;if(N===s&&++I===a&&(_=h),N===f&&++x===l&&(v=h),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Al={focusedElem:e,selectionRange:s},hs=!1,b=n;b!==null;)if(n=b,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,b=e;else for(;b!==null;){n=b;try{var j=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var B=j.memoizedProps,Ae=j.memoizedState,C=n.stateNode,S=C.getSnapshotBeforeUpdate(n.elementType===n.type?B:Ot(n.type,B),Ae);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Pe(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,b=e;break}b=n.return}return j=Ud,Ud=!1,j}function Ii(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var f=a.destroy;a.destroy=void 0,f!==void 0&&vu(n,s,f)}a=a.next}while(a!==l)}}function Qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function wu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function jd(e){var n=e.alternate;n!==null&&(e.alternate=null,jd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ht],delete n[mi],delete n[Fl],delete n[F_],delete n[z_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bd(e){return e.tag===5||e.tag===3||e.tag===4}function Wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ts));else if(l!==4&&(e=e.child,e!==null))for(Su(e,n,s),e=e.sibling;e!==null;)Su(e,n,s),e=e.sibling}function Eu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Eu(e,n,s),e=e.sibling;e!==null;)Eu(e,n,s),e=e.sibling}var $e=null,Mt=!1;function Tn(e,n,s){for(s=s.child;s!==null;)Hd(e,n,s),s=s.sibling}function Hd(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ls,s)}catch{}switch(s.tag){case 5:Je||xr(s,n);case 6:var l=$e,a=Mt;$e=null,Tn(e,n,s),$e=l,Mt=a,$e!==null&&(Mt?(e=$e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):$e.removeChild(s.stateNode));break;case 18:$e!==null&&(Mt?(e=$e,s=s.stateNode,e.nodeType===8?Ll(e.parentNode,s):e.nodeType===1&&Ll(e,s),ii(e)):Ll($e,s.stateNode));break;case 4:l=$e,a=Mt,$e=s.stateNode.containerInfo,Mt=!0,Tn(e,n,s),$e=l,Mt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var f=a,h=f.destroy;f=f.tag,h!==void 0&&(f&2||f&4)&&vu(s,n,h),a=a.next}while(a!==l)}Tn(e,n,s);break;case 1:if(!Je&&(xr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){Pe(s,n,_)}Tn(e,n,s);break;case 21:Tn(e,n,s);break;case 22:s.mode&1?(Je=(l=Je)||s.memoizedState!==null,Tn(e,n,s),Je=l):Tn(e,n,s);break;default:Tn(e,n,s)}}function $d(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Z_),n.forEach(function(l){var a=ay.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var f=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:$e=_.stateNode,Mt=!1;break e;case 3:$e=_.stateNode.containerInfo,Mt=!0;break e;case 4:$e=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if($e===null)throw Error(r(160));Hd(f,h,a),$e=null,Mt=!1;var v=a.alternate;v!==null&&(v.return=null),a.return=null}catch(I){Pe(a,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Vd(n,e),n=n.sibling}function Vd(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Gt(e),l&4){try{Ii(3,e,e.return),Qs(3,e)}catch(B){Pe(e,e.return,B)}try{Ii(5,e,e.return)}catch(B){Pe(e,e.return,B)}}break;case 1:Lt(n,e),Gt(e),l&512&&s!==null&&xr(s,s.return);break;case 5:if(Lt(n,e),Gt(e),l&512&&s!==null&&xr(s,s.return),e.flags&32){var a=e.stateNode;try{Kr(a,"")}catch(B){Pe(e,e.return,B)}}if(l&4&&(a=e.stateNode,a!=null)){var f=e.memoizedProps,h=s!==null?s.memoizedProps:f,_=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&yc(a,f),Zo(_,h);var I=Zo(_,f);for(h=0;h<v.length;h+=2){var x=v[h],P=v[h+1];x==="style"?Ic(a,P):x==="dangerouslySetInnerHTML"?kc(a,P):x==="children"?Kr(a,P):Q(a,x,P,I)}switch(_){case"input":Qo(a,f);break;case"textarea":Sc(a,f);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!f.multiple;var F=f.value;F!=null?ur(a,!!f.multiple,F,!1):N!==!!f.multiple&&(f.defaultValue!=null?ur(a,!!f.multiple,f.defaultValue,!0):ur(a,!!f.multiple,f.multiple?[]:"",!1))}a[mi]=f}catch(B){Pe(e,e.return,B)}}break;case 6:if(Lt(n,e),Gt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,f=e.memoizedProps;try{a.nodeValue=f}catch(B){Pe(e,e.return,B)}}break;case 3:if(Lt(n,e),Gt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ii(n.containerInfo)}catch(B){Pe(e,e.return,B)}break;case 4:Lt(n,e),Gt(e);break;case 13:Lt(n,e),Gt(e),a=e.child,a.flags&8192&&(f=a.memoizedState!==null,a.stateNode.isHidden=f,!f||a.alternate!==null&&a.alternate.memoizedState!==null||(Tu=De())),l&4&&$d(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Je=(I=Je)||x,Lt(n,e),Je=I):Lt(n,e),Gt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!x&&e.mode&1)for(b=e,x=e.child;x!==null;){for(P=b=x;b!==null;){switch(N=b,F=N.child,N.tag){case 0:case 11:case 14:case 15:Ii(4,N,N.return);break;case 1:xr(N,N.return);var j=N.stateNode;if(typeof j.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,j.props=n.memoizedProps,j.state=n.memoizedState,j.componentWillUnmount()}catch(B){Pe(l,s,B)}}break;case 5:xr(N,N.return);break;case 22:if(N.memoizedState!==null){Qd(P);continue}}F!==null?(F.return=N,b=F):Qd(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,I?(f=a.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=P.stateNode,v=P.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,_.style.display=Tc("display",h))}catch(B){Pe(e,e.return,B)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(B){Pe(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Lt(n,e),Gt(e),l&4&&$d(e);break;case 21:break;default:Lt(n,e),Gt(e)}}function Gt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Bd(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Kr(a,""),l.flags&=-33);var f=Wd(e);Eu(e,f,a);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Wd(e);Su(e,_,h);break;default:throw Error(r(161))}}catch(v){Pe(e,e.return,v)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e,n,s){b=e,Gd(e)}function Gd(e,n,s){for(var l=(e.mode&1)!==0;b!==null;){var a=b,f=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Ks;if(!h){var _=a.alternate,v=_!==null&&_.memoizedState!==null||Je;_=Ks;var I=Je;if(Ks=h,(Je=v)&&!I)for(b=a;b!==null;)h=b,v=h.child,h.tag===22&&h.memoizedState!==null?qd(a):v!==null?(v.return=h,b=v):qd(a);for(;f!==null;)b=f,Gd(f),f=f.sibling;b=a,Ks=_,Je=I}Kd(e)}else a.subtreeFlags&8772&&f!==null?(f.return=a,b=f):Kd(e)}}function Kd(e){for(;b!==null;){var n=b;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Je||Qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Je)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Ot(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Qf(n,f,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Qf(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var v=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&s.focus();break;case"img":v.src&&(s.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var x=I.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&ii(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Je||n.flags&512&&wu(n)}catch(N){Pe(n,n.return,N)}}if(n===e){b=null;break}if(s=n.sibling,s!==null){s.return=n.return,b=s;break}b=n.return}}function Qd(e){for(;b!==null;){var n=b;if(n===e){b=null;break}var s=n.sibling;if(s!==null){s.return=n.return,b=s;break}b=n.return}}function qd(e){for(;b!==null;){var n=b;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qs(4,n)}catch(v){Pe(n,s,v)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(v){Pe(n,a,v)}}var f=n.return;try{wu(n)}catch(v){Pe(n,f,v)}break;case 5:var h=n.return;try{wu(n)}catch(v){Pe(n,h,v)}}}catch(v){Pe(n,n.return,v)}if(n===e){b=null;break}var _=n.sibling;if(_!==null){_.return=n.return,b=_;break}b=n.return}}var ny=Math.ceil,qs=G.ReactCurrentDispatcher,Cu=G.ReactCurrentOwner,kt=G.ReactCurrentBatchConfig,le=0,Ue=null,Oe=null,Ve=0,_t=0,Pr=wn(0),Le=0,Ni=null,Vn=0,Ys=0,ku=0,Ri=null,lt=null,Tu=0,Dr=1/0,rn=null,Xs=!1,Iu=null,In=null,Js=!1,Nn=null,Zs=0,xi=0,Nu=null,eo=-1,to=0;function nt(){return le&6?De():eo!==-1?eo:eo=De()}function Rn(e){return e.mode&1?le&2&&Ve!==0?Ve&-Ve:U_.transition!==null?(to===0&&(to=Bc()),to):(e=me,e!==0||(e=window.event,e=e===void 0?16:Yc(e.type)),e):1}function Ft(e,n,s,l){if(50<xi)throw xi=0,Nu=null,Error(r(185));Zr(e,s,l),(!(le&2)||e!==Ue)&&(e===Ue&&(!(le&2)&&(Ys|=s),Le===4&&xn(e,Ve)),ut(e,l),s===1&&le===0&&!(n.mode&1)&&(Dr=De()+500,xs&&En()))}function ut(e,n){var s=e.callbackNode;Ug(e,n);var l=cs(e,e===Ue?Ve:0);if(l===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&bc(s),n===1)e.tag===0?b_(Xd.bind(null,e)):Ff(Xd.bind(null,e)),M_(function(){!(le&6)&&En()}),s=null;else{switch(Wc(l)){case 1:s=ol;break;case 4:s=Uc;break;case 16:s=os;break;case 536870912:s=jc;break;default:s=os}s=sh(s,Yd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Yd(e,n){if(eo=-1,to=0,le&6)throw Error(r(327));var s=e.callbackNode;if(Ar()&&e.callbackNode!==s)return null;var l=cs(e,e===Ue?Ve:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=no(e,l);else{n=l;var a=le;le|=2;var f=Zd();(Ue!==e||Ve!==n)&&(rn=null,Dr=De()+500,Kn(e,n));do try{sy();break}catch(_){Jd(e,_)}while(!0);Vl(),qs.current=f,le=a,Oe!==null?n=0:(Ue=null,Ve=0,n=Le)}if(n!==0){if(n===2&&(a=ll(e),a!==0&&(l=a,n=Ru(e,a))),n===1)throw s=Ni,Kn(e,0),xn(e,l),ut(e,De()),s;if(n===6)xn(e,l);else{if(a=e.current.alternate,!(l&30)&&!ry(a)&&(n=no(e,l),n===2&&(f=ll(e),f!==0&&(l=f,n=Ru(e,f))),n===1))throw s=Ni,Kn(e,0),xn(e,l),ut(e,De()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Qn(e,lt,rn);break;case 3:if(xn(e,l),(l&130023424)===l&&(n=Tu+500-De(),10<n)){if(cs(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ml(Qn.bind(null,e,lt,rn),n);break}Qn(e,lt,rn);break;case 4:if(xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-Pt(l);f=1<<h,h=n[h],h>a&&(a=h),l&=~f}if(l=a,l=De()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*ny(l/1960))-l,10<l){e.timeoutHandle=Ml(Qn.bind(null,e,lt,rn),l);break}Qn(e,lt,rn);break;case 5:Qn(e,lt,rn);break;default:throw Error(r(329))}}}return ut(e,De()),e.callbackNode===s?Yd.bind(null,e):null}function Ru(e,n){var s=Ri;return e.current.memoizedState.isDehydrated&&(Kn(e,n).flags|=256),e=no(e,n),e!==2&&(n=lt,lt=s,n!==null&&xu(n)),e}function xu(e){lt===null?lt=e:lt.push.apply(lt,e)}function ry(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],f=a.getSnapshot;a=a.value;try{if(!Dt(f(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~ku,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pt(n),l=1<<s;e[s]=-1,n&=~l}}function Xd(e){if(le&6)throw Error(r(327));Ar();var n=cs(e,0);if(!(n&1))return ut(e,De()),null;var s=no(e,n);if(e.tag!==0&&s===2){var l=ll(e);l!==0&&(n=l,s=Ru(e,l))}if(s===1)throw s=Ni,Kn(e,0),xn(e,n),ut(e,De()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,lt,rn),ut(e,De()),null}function Pu(e,n){var s=le;le|=1;try{return e(n)}finally{le=s,le===0&&(Dr=De()+500,xs&&En())}}function Gn(e){Nn!==null&&Nn.tag===0&&!(le&6)&&Ar();var n=le;le|=1;var s=kt.transition,l=me;try{if(kt.transition=null,me=1,e)return e()}finally{me=l,kt.transition=s,le=n,!(le&6)&&En()}}function Du(){_t=Pr.current,Se(Pr)}function Kn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,O_(s)),Oe!==null)for(s=Oe.return;s!==null;){var l=s;switch(jl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ns();break;case 3:Nr(),Se(it),Se(qe),Zl();break;case 5:Xl(l);break;case 4:Nr();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Gl(l.type._context);break;case 22:case 23:Du()}s=s.return}if(Ue=e,Oe=e=Pn(e.current,null),Ve=_t=n,Le=0,Ni=null,ku=Ys=Vn=0,lt=Ri=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,f=s.pending;if(f!==null){var h=f.next;f.next=a,l.next=h}s.pending=l}Wn=null}return e}function Jd(e,n){do{var s=Oe;try{if(Vl(),Us.current=Hs,js){for(var l=Re.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}js=!1}if($n=0,be=Me=Re=null,Si=!1,Ei=0,Cu.current=null,s===null||s.return===null){Le=1,Ni=n,Oe=null;break}e:{var f=e,h=s.return,_=s,v=n;if(n=Ve,_.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=v,x=_,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var F=Cd(h);if(F!==null){F.flags&=-257,kd(F,h,_,f,n),F.mode&1&&Ed(f,I,n),n=F,v=I;var j=n.updateQueue;if(j===null){var B=new Set;B.add(v),n.updateQueue=B}else j.add(v);break e}else{if(!(n&1)){Ed(f,I,n),Au();break e}v=Error(r(426))}}else if(Ie&&_.mode&1){var Ae=Cd(h);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),kd(Ae,h,_,f,n),Hl(Rr(v,_));break e}}f=v=Rr(v,_),Le!==4&&(Le=2),Ri===null?Ri=[f]:Ri.push(f),f=h;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=wd(f,v,n);Kf(f,C);break e;case 1:_=v;var S=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(In===null||!In.has(k)))){f.flags|=65536,n&=-n,f.lanes|=n;var D=Sd(f,_,n);Kf(f,D);break e}}f=f.return}while(f!==null)}th(s)}catch(W){n=W,Oe===s&&s!==null&&(Oe=s=s.return);continue}break}while(!0)}function Zd(){var e=qs.current;return qs.current=Hs,e===null?Hs:e}function Au(){(Le===0||Le===3||Le===2)&&(Le=4),Ue===null||!(Vn&268435455)&&!(Ys&268435455)||xn(Ue,Ve)}function no(e,n){var s=le;le|=2;var l=Zd();(Ue!==e||Ve!==n)&&(rn=null,Kn(e,n));do try{iy();break}catch(a){Jd(e,a)}while(!0);if(Vl(),le=s,qs.current=l,Oe!==null)throw Error(r(261));return Ue=null,Ve=0,Le}function iy(){for(;Oe!==null;)eh(Oe)}function sy(){for(;Oe!==null&&!Pg();)eh(Oe)}function eh(e){var n=ih(e.alternate,e,_t);e.memoizedProps=e.pendingProps,n===null?th(e):Oe=n,Cu.current=null}function th(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=J_(s,n),s!==null){s.flags&=32767,Oe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Oe=null;return}}else if(s=X_(s,n,_t),s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);Le===0&&(Le=5)}function Qn(e,n,s){var l=me,a=kt.transition;try{kt.transition=null,me=1,oy(e,n,s,l)}finally{kt.transition=a,me=l}return null}function oy(e,n,s,l){do Ar();while(Nn!==null);if(le&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(jg(e,f),e===Ue&&(Oe=Ue=null,Ve=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Js||(Js=!0,sh(os,function(){return Ar(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=kt.transition,kt.transition=null;var h=me;me=1;var _=le;le|=4,Cu.current=null,ey(e,s),Vd(s,e),I_(Al),hs=!!Dl,Al=Dl=null,e.current=s,ty(s),Dg(),le=_,me=h,kt.transition=f}else e.current=s;if(Js&&(Js=!1,Nn=e,Zs=a),f=e.pendingLanes,f===0&&(In=null),Mg(s.stateNode),ut(e,De()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(Xs)throw Xs=!1,e=Iu,Iu=null,e;return Zs&1&&e.tag!==0&&Ar(),f=e.pendingLanes,f&1?e===Nu?xi++:(xi=0,Nu=e):xi=0,En(),null}function Ar(){if(Nn!==null){var e=Wc(Zs),n=kt.transition,s=me;try{if(kt.transition=null,me=16>e?16:e,Nn===null)var l=!1;else{if(e=Nn,Nn=null,Zs=0,le&6)throw Error(r(331));var a=le;for(le|=4,b=e.current;b!==null;){var f=b,h=f.child;if(b.flags&16){var _=f.deletions;if(_!==null){for(var v=0;v<_.length;v++){var I=_[v];for(b=I;b!==null;){var x=b;switch(x.tag){case 0:case 11:case 15:Ii(8,x,f)}var P=x.child;if(P!==null)P.return=x,b=P;else for(;b!==null;){x=b;var N=x.sibling,F=x.return;if(jd(x),x===I){b=null;break}if(N!==null){N.return=F,b=N;break}b=F}}}var j=f.alternate;if(j!==null){var B=j.child;if(B!==null){j.child=null;do{var Ae=B.sibling;B.sibling=null,B=Ae}while(B!==null)}}b=f}}if(f.subtreeFlags&2064&&h!==null)h.return=f,b=h;else e:for(;b!==null;){if(f=b,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ii(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,b=C;break e}b=f.return}}var S=e.current;for(b=S;b!==null;){h=b;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,b=k;else e:for(h=S;b!==null;){if(_=b,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qs(9,_)}}catch(W){Pe(_,_.return,W)}if(_===h){b=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,b=D;break e}b=_.return}}if(le=a,En(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ls,e)}catch{}l=!0}return l}finally{me=s,kt.transition=n}}return!1}function nh(e,n,s){n=Rr(s,n),n=wd(e,n,1),e=kn(e,n,1),n=nt(),e!==null&&(Zr(e,1,n),ut(e,n))}function Pe(e,n,s){if(e.tag===3)nh(e,e,s);else for(;n!==null;){if(n.tag===3){nh(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=Rr(s,e),e=Sd(n,e,1),n=kn(n,e,1),e=nt(),n!==null&&(Zr(n,1,e),ut(n,e));break}}n=n.return}}function ly(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=nt(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&(Ve&s)===s&&(Le===4||Le===3&&(Ve&130023424)===Ve&&500>De()-Tu?Kn(e,0):ku|=s),ut(e,n)}function rh(e,n){n===0&&(e.mode&1?(n=as,as<<=1,!(as&130023424)&&(as=4194304)):n=1);var s=nt();e=en(e,n),e!==null&&(Zr(e,n,s),ut(e,s))}function uy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),rh(e,s)}function ay(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),rh(e,s)}var ih;ih=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||it.current)ot=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ot=!1,Y_(e,n,s);ot=!!(e.flags&131072)}else ot=!1,Ie&&n.flags&1048576&&zf(n,Ds,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Gs(e,n),e=n.pendingProps;var a=wr(n,qe.current);Ir(n,s),a=nu(null,n,l,e,a,s);var f=ru();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,st(l)?(f=!0,Rs(n)):f=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ql(n),a.updater=$s,n.stateNode=a,a._reactInternals=n,au(n,l,e,s),n=hu(null,n,l,!0,f,s)):(n.tag=0,Ie&&f&&Ul(n),tt(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Gs(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=fy(l),e=Ot(l,e),a){case 0:n=du(null,n,l,e,s);break e;case 1:n=Pd(null,n,l,e,s);break e;case 11:n=Td(null,n,l,e,s);break e;case 14:n=Id(null,n,l,Ot(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),du(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),Pd(e,n,l,a,s);case 3:e:{if(Dd(n),e===null)throw Error(r(387));l=n.pendingProps,f=n.memoizedState,a=f.element,Gf(e,n),zs(n,l,null,s);var h=n.memoizedState;if(l=h.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){a=Rr(Error(r(423)),n),n=Ad(e,n,l,s,a);break e}else if(l!==a){a=Rr(Error(r(424)),n),n=Ad(e,n,l,s,a);break e}else for(gt=vn(n.stateNode.containerInfo.firstChild),mt=n,Ie=!0,At=null,s=$f(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),l===a){n=nn(e,n,s);break e}tt(e,n,l,s)}n=n.child}return n;case 5:return qf(n),e===null&&Wl(n),l=n.type,a=n.pendingProps,f=e!==null?e.memoizedProps:null,h=a.children,Ol(l,a)?h=null:f!==null&&Ol(l,f)&&(n.flags|=32),xd(e,n),tt(e,n,h,s),n.child;case 6:return e===null&&Wl(n),null;case 13:return Od(e,n,s);case 4:return Yl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=kr(n,null,l,s):tt(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),Td(e,n,l,a,s);case 7:return tt(e,n,n.pendingProps,s),n.child;case 8:return tt(e,n,n.pendingProps.children,s),n.child;case 12:return tt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,f=n.memoizedProps,h=a.value,ye(Ms,l._currentValue),l._currentValue=h,f!==null)if(Dt(f.value,h)){if(f.children===a.children&&!it.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){h=f.child;for(var v=_.firstContext;v!==null;){if(v.context===l){if(f.tag===1){v=tn(-1,s&-s),v.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var x=I.pending;x===null?v.next=v:(v.next=x.next,x.next=v),I.pending=v}}f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),Kl(f.return,s,n),_.lanes|=s;break}v=v.next}}else if(f.tag===10)h=f.type===n.type?null:f.child;else if(f.tag===18){if(h=f.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Kl(h,s,n),h=f.sibling}else h=f.child;if(h!==null)h.return=f;else for(h=f;h!==null;){if(h===n){h=null;break}if(f=h.sibling,f!==null){f.return=h.return,h=f;break}h=h.return}f=h}tt(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Ir(n,s),a=Et(a),l=l(a),n.flags|=1,tt(e,n,l,s),n.child;case 14:return l=n.type,a=Ot(l,n.pendingProps),a=Ot(l.type,a),Id(e,n,l,a,s);case 15:return Nd(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Ot(l,a),Gs(e,n),n.tag=1,st(l)?(e=!0,Rs(n)):e=!1,Ir(n,s),yd(n,l,a),au(n,l,a,s),hu(null,n,l,!0,e,s);case 19:return Ld(e,n,s);case 22:return Rd(e,n,s)}throw Error(r(156,n.tag))};function sh(e,n){return zc(e,n)}function cy(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,s,l){return new cy(e,n,s,l)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fy(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jt)return 11;if(e===Bt)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=Tt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ro(e,n,s,l,a,f){var h=2;if(l=e,typeof e=="function")Ou(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case he:return qn(s.children,a,f,n);case Z:h=8,a|=8;break;case He:return e=Tt(12,s,n,a|2),e.elementType=He,e.lanes=f,e;case dt:return e=Tt(13,s,n,a),e.elementType=dt,e.lanes=f,e;case xt:return e=Tt(19,s,n,a),e.elementType=xt,e.lanes=f,e;case xe:return io(s,a,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:h=10;break e;case qt:h=9;break e;case jt:h=11;break e;case Bt:h=14;break e;case rt:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Tt(h,s,n,a),n.elementType=e,n.type=l,n.lanes=f,n}function qn(e,n,s,l){return e=Tt(7,e,l,n),e.lanes=s,e}function io(e,n,s,l){return e=Tt(22,e,l,n),e.elementType=xe,e.lanes=s,e.stateNode={isHidden:!1},e}function Mu(e,n,s){return e=Tt(6,e,null,n),e.lanes=s,e}function Lu(e,n,s){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function dy(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,n,s,l,a,f,h,_,v){return e=new dy(e,n,s,_,v),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Tt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(f),e}function hy(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function oh(e){if(!e)return Sn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(st(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(st(s))return Mf(e,s,n)}return n}function lh(e,n,s,l,a,f,h,_,v){return e=Fu(s,l,!0,e,a,f,h,_,v),e.context=oh(null),s=e.current,l=nt(),a=Rn(s),f=tn(l,a),f.callback=n??null,kn(s,f,a),e.current.lanes=a,Zr(e,a,l),ut(e,l),e}function so(e,n,s,l){var a=n.current,f=nt(),h=Rn(a);return s=oh(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kn(a,n,h),e!==null&&(Ft(e,a,h,f),Fs(e,a,h)),h}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function zu(e,n){uh(e,n),(e=e.alternate)&&uh(e,n)}var ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}lo.prototype.render=bu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));so(e,n,null,null)},lo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gn(function(){so(null,e,null,null)}),n[Yt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&Qc(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ch(){}function py(e,n,s,l,a){if(a){if(typeof l=="function"){var f=l;l=function(){var I=oo(h);f.call(I)}}var h=lh(n,l,e,0,null,!1,!1,"",ch);return e._reactRootContainer=h,e[Yt]=h.current,hi(e.nodeType===8?e.parentNode:e),Gn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var _=l;l=function(){var I=oo(v);_.call(I)}}var v=Fu(e,0,!1,null,null,!1,!1,"",ch);return e._reactRootContainer=v,e[Yt]=v.current,hi(e.nodeType===8?e.parentNode:e),Gn(function(){so(n,v,s,l)}),v}function ao(e,n,s,l,a){var f=s._reactRootContainer;if(f){var h=f;if(typeof a=="function"){var _=a;a=function(){var v=oo(h);_.call(v)}}so(n,h,e,a)}else h=py(s,n,e,a,l);return oo(h)}Hc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Jr(n.pendingLanes);s!==0&&(al(n,s|1),ut(n,De()),!(le&6)&&(Dr=De()+500,En()))}break;case 13:Gn(function(){var l=en(e,1);if(l!==null){var a=nt();Ft(l,e,1,a)}}),zu(e,1)}},cl=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=nt();Ft(n,e,134217728,s)}zu(e,134217728)}},$c=function(e){if(e.tag===13){var n=Rn(e),s=en(e,n);if(s!==null){var l=nt();Ft(s,e,n,l)}zu(e,n)}},Vc=function(){return me},Gc=function(e,n){var s=me;try{return me=e,n()}finally{me=s}},nl=function(e,n,s){switch(n){case"input":if(Qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Is(l);if(!a)throw Error(r(90));gc(l),Qo(l,a)}}}break;case"textarea":Sc(e,s);break;case"select":n=s.value,n!=null&&ur(e,!!s.multiple,n,!1)}},Pc=Pu,Dc=Gn;var my={usingClientEntryPoint:!1,Events:[gi,yr,Is,Rc,xc,Pu]},Pi={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ls=co.inject(gy),Wt=co}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my,at.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(n))throw Error(r(200));return hy(e,n,null,s)},at.createRoot=function(e,n){if(!Uu(e))throw Error(r(299));var s=!1,l="",a=ah;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Fu(e,1,!1,null,null,s,!1,l,a),e[Yt]=n.current,hi(e.nodeType===8?e.parentNode:e),new bu(n)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Lc(n),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Gn(e)},at.hydrate=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!0,s)},at.hydrateRoot=function(e,n,s){if(!Uu(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,f="",h=ah;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=lh(n,null,e,1,s??null,a,!1,f,h),e[Yt]=n.current,hi(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new lo(n)},at.render=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!1,s)},at.unmountComponentAtNode=function(e){if(!uo(e))throw Error(r(40));return e._reactRootContainer?(Gn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},at.unstable_batchedUpdates=Pu,at.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!uo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ao(e,n,s,!1,l)},at.version="18.3.1-next-f1338f8080-20240426",at}var yh;function Ny(){if(yh)return Hu.exports;yh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hu.exports=Iy(),Hu.exports}var vh;function Ry(){if(vh)return fo;vh=1;var i=Ny();return fo.createRoot=i.createRoot,fo.hydrateRoot=i.hydrateRoot,fo}var xy=Ry();const Py="modulepreload",Dy=function(i){return"/REDUX/"+i},wh={},Ay=function(t,r,o){let u=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));u=Promise.allSettled(r.map(m=>{if(m=Dy(m),m in wh)return;wh[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":Py,g||(y.as="script"),y.crossOrigin="",y.href=m,p&&y.setAttribute("nonce",p),document.head.appendChild(y),g)return new Promise((T,A)=>{y.addEventListener("load",T),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return u.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})};let Oy=class{constructor(){this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no vlido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}};const da=new Oy;class My extends Np.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){da.warn("Error capturado por ErrorBoundary: "+t.message),da.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}var Gu={exports:{}},Ku={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function Ly(){if(Sh)return Ku;Sh=1;var i=Mo();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,o=i.useSyncExternalStore,u=i.useRef,c=i.useEffect,d=i.useMemo,p=i.useDebugValue;return Ku.useSyncExternalStoreWithSelector=function(m,g,w,y,T){var A=u(null);if(A.current===null){var O={hasValue:!1,value:null};A.current=O}else O=A.current;A=d(function(){function z(J){if(!ie){if(ie=!0,X=J,J=y(J),T!==void 0&&O.hasValue){var Y=O.value;if(T(Y,J))return Q=Y}return Q=J}if(Y=Q,r(X,J))return Y;var he=y(J);return T!==void 0&&T(Y,he)?(X=J,Y):(X=J,Q=he)}var ie=!1,X,Q,G=w===void 0?null:w;return[function(){return z(g())},G===null?void 0:function(){return z(G())}]},[g,w,y,T]);var H=o(m,A[0],A[1]);return c(function(){O.hasValue=!0,O.value=H},[H]),p(H),H},Ku}var Eh;function Fy(){return Eh||(Eh=1,Gu.exports=Ly()),Gu.exports}var zy=Fy();function by(i){i()}function Uy(){let i=null,t=null;return{clear(){i=null,t=null},notify(){by(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=i;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const u=t={callback:r,next:null,prev:t};return u.prev?u.prev.next=u:i=u,function(){!o||i===null||(o=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:i=u.next)}}}}var Ch={notify(){},get:()=>[]};function jy(i,t){let r,o=Ch,u=0,c=!1;function d(H){w();const z=o.subscribe(H);let ie=!1;return()=>{ie||(ie=!0,z(),y())}}function p(){o.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return c}function w(){u++,r||(r=i.subscribe(m),o=Uy())}function y(){u--,r&&u===0&&(r(),r=void 0,o.clear(),o=Ch)}function T(){c||(c=!0,w())}function A(){c&&(c=!1,y())}const O={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:A,getListeners:()=>o};return O}var By=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wy=By(),Hy=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$y=Hy(),Vy=()=>Wy||$y?ze.useLayoutEffect:ze.useEffect,Gy=Vy(),Qu=Symbol.for("react-redux-context"),qu=typeof globalThis<"u"?globalThis:{};function Ky(){if(!ze.createContext)return{};const i=qu[Qu]??(qu[Qu]=new Map);let t=i.get(ze.createContext);return t||(t=ze.createContext(null),i.set(ze.createContext,t)),t}var Ln=Ky();function Qy(i){const{children:t,context:r,serverState:o,store:u}=i,c=ze.useMemo(()=>{const m=jy(u);return{store:u,subscription:m,getServerState:o?()=>o:void 0}},[u,o]),d=ze.useMemo(()=>u.getState(),[u]);Gy(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==u.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=r||Ln;return ze.createElement(p.Provider,{value:c},t)}var qy=Qy;function Ua(i=Ln){return function(){return ze.useContext(i)}}var Rp=Ua();function xp(i=Ln){const t=i===Ln?Rp:Ua(i),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var Yy=xp();function Xy(i=Ln){const t=i===Ln?Yy:xp(i),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Jy=Xy(),Zy=(i,t)=>i===t;function ev(i=Ln){const t=i===Ln?Rp:Ua(i),r=(o,u={})=>{const{equalityFn:c=Zy}=typeof u=="function"?{equalityFn:u}:u,d=t(),{store:p,subscription:m,getServerState:g}=d;ze.useRef(!0);const w=ze.useCallback({[o.name](T){return o(T)}}[o.name],[o]),y=zy.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,w,c);return ze.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var Pp=ev();const tv=Np.lazy(()=>Ay(()=>import("./FoodOrder-D4OFeqym.js"),[]));function nv(){const[i,t]=ze.useState(null),r=Pp(o=>o.foods);return i?fe.jsx(ze.Suspense,{fallback:fe.jsx("div",{children:" Cargando detalles ......"}),children:fe.jsx(My,{fallback:fe.jsx("p",{style:{color:"red"},children:"Ha ocurrido un error en el pedido."}),children:fe.jsx(tv,{foodItem:i,onBack:()=>t(null)})})}):fe.jsxs(fe.Fragment,{children:[fe.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),fe.jsx("ul",{className:"ulFoods",children:r.map(o=>fe.jsxs("li",{className:"liFoods",onClick:()=>t(o),children:[fe.jsx("img",{className:"foodImg",src:`/REDUX/images/${o.image}`,alt:o.name}),fe.jsxs("div",{className:"foodItem",children:[fe.jsx("p",{className:"foodDesc",children:o.desc}),fe.jsxs("p",{className:"foodPrice",children:[o.price,"$"]}),fe.jsxs("p",{className:"foodQuantity",children:["Available: ",o.quantity]})]})]},o.id))}),fe.jsx("button",{onClick:()=>t({id:5,name:"Item false",desc:"Item inexistente",price:0,quantity:0,image:"fake.png"}),children:"Forzar ErrorBoundary"})]})}function rv(){const i=Jy();ze.useEffect(()=>{i({type:"APP_LOADED",payload:"Cargando App..."})},[]);const[t,r]=ze.useState(!1),o=Pp(u=>u.foods);return fe.jsxs("div",{className:"App",children:[fe.jsx("button",{className:"toggleButton",onClick:()=>r(!t),children:t?"Disponibilidad":"Pedir Comida"}),fe.jsx("h3",{className:"title",children:"Comida Rpida Online"}),!t&&fe.jsxs(fe.Fragment,{children:[fe.jsx("h4",{className:"subTitle",children:"Mens"}),fe.jsx("ul",{className:"ulApp",children:o.map(u=>fe.jsxs("li",{className:"liApp",children:[fe.jsx("p",{children:u.name}),fe.jsxs("p",{children:["#",u.quantity]})]},u.id))})]}),t&&fe.jsx(nv,{})]})}function Ge(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var iv=typeof Symbol=="function"&&Symbol.observable||"@@observable",kh=iv,Yu=()=>Math.random().toString(36).substring(7).split("").join("."),sv={INIT:`@@redux/INIT${Yu()}`,REPLACE:`@@redux/REPLACE${Yu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yu()}`},_o=sv;function ja(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function Dp(i,t,r){if(typeof i!="function")throw new Error(Ge(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ge(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ge(1));return r(Dp)(i,t)}let o=i,u=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((z,ie)=>{d.set(ie,z)}))}function w(){if(m)throw new Error(Ge(3));return u}function y(z){if(typeof z!="function")throw new Error(Ge(4));if(m)throw new Error(Ge(5));let ie=!0;g();const X=p++;return d.set(X,z),function(){if(ie){if(m)throw new Error(Ge(6));ie=!1,g(),d.delete(X),c=null}}}function T(z){if(!ja(z))throw new Error(Ge(7));if(typeof z.type>"u")throw new Error(Ge(8));if(typeof z.type!="string")throw new Error(Ge(17));if(m)throw new Error(Ge(9));try{m=!0,u=o(u,z)}finally{m=!1}return(c=d).forEach(X=>{X()}),z}function A(z){if(typeof z!="function")throw new Error(Ge(10));o=z,T({type:_o.REPLACE})}function O(){const z=y;return{subscribe(ie){if(typeof ie!="object"||ie===null)throw new Error(Ge(11));function X(){const G=ie;G.next&&G.next(w())}return X(),{unsubscribe:z(X)}},[kh](){return this}}}return T({type:_o.INIT}),{dispatch:T,subscribe:y,getState:w,replaceReducer:A,[kh]:O}}function ov(i){Object.keys(i).forEach(t=>{const r=i[t];if(typeof r(void 0,{type:_o.INIT})>"u")throw new Error(Ge(12));if(typeof r(void 0,{type:_o.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ge(13))})}function lv(i){const t=Object.keys(i),r={};for(let c=0;c<t.length;c++){const d=t[c];typeof i[d]=="function"&&(r[d]=i[d])}const o=Object.keys(r);let u;try{ov(r)}catch(c){u=c}return function(d={},p){if(u)throw u;let m=!1;const g={};for(let w=0;w<o.length;w++){const y=o[w],T=r[y],A=d[y],O=T(A,p);if(typeof O>"u")throw p&&p.type,new Error(Ge(14));g[y]=O,m=m||O!==A}return m=m||o.length!==Object.keys(d).length,m?g:d}}function yo(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,r)=>(...o)=>t(r(...o)))}function uv(...i){return t=>(r,o)=>{const u=t(r,o);let c=()=>{throw new Error(Ge(15))};const d={getState:u.getState,dispatch:(m,...g)=>c(m,...g)},p=i.map(m=>m(d));return c=yo(...p)(u.dispatch),{...u,dispatch:c}}}function av(i){return ja(i)&&"type"in i&&typeof i.type=="string"}var Ap=Symbol.for("immer-nothing"),Th=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function zt(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object.getPrototypeOf;function tr(i){return!!i&&!!i[yt]}function un(i){var t;return i?Op(i)||Array.isArray(i)||!!i[Th]||!!((t=i.constructor)!=null&&t[Th])||Fo(i)||zo(i):!1}var cv=Object.prototype.constructor.toString();function Op(i){if(!i||typeof i!="object")return!1;const t=zr(i);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===cv}function vo(i,t){Lo(i)===0?Reflect.ownKeys(i).forEach(r=>{t(r,i[r],i)}):i.forEach((r,o)=>t(o,r,i))}function Lo(i){const t=i[yt];return t?t.type_:Array.isArray(i)?1:Fo(i)?2:zo(i)?3:0}function ha(i,t){return Lo(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function Mp(i,t,r){const o=Lo(i);o===2?i.set(t,r):o===3?i.add(r):i[t]=r}function fv(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function Fo(i){return i instanceof Map}function zo(i){return i instanceof Set}function Yn(i){return i.copy_||i.base_}function pa(i,t){if(Fo(i))return new Map(i);if(zo(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=Op(i);if(t===!0||t==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(i);delete o[yt];let u=Reflect.ownKeys(o);for(let c=0;c<u.length;c++){const d=u[c],p=o[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:i[d]})}return Object.create(zr(i),o)}else{const o=zr(i);if(o!==null&&r)return{...i};const u=Object.create(o);return Object.assign(u,i)}}function Ba(i,t=!1){return bo(i)||tr(i)||!un(i)||(Lo(i)>1&&(i.set=i.add=i.clear=i.delete=dv),Object.freeze(i),t&&Object.entries(i).forEach(([r,o])=>Ba(o,!0))),i}function dv(){zt(2)}function bo(i){return Object.isFrozen(i)}var hv={};function nr(i){const t=hv[i];return t||zt(0,i),t}var Hi;function Lp(){return Hi}function pv(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ih(i,t){t&&(nr("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function ma(i){ga(i),i.drafts_.forEach(mv),i.drafts_=null}function ga(i){i===Hi&&(Hi=i.parent_)}function Nh(i){return Hi=pv(Hi,i)}function mv(i){const t=i[yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Rh(i,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return i!==void 0&&i!==r?(r[yt].modified_&&(ma(t),zt(4)),un(i)&&(i=wo(t,i),t.parent_||So(t,i)),t.patches_&&nr("Patches").generateReplacementPatches_(r[yt].base_,i,t.patches_,t.inversePatches_)):i=wo(t,r,[]),ma(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==Ap?i:void 0}function wo(i,t,r){if(bo(t))return t;const o=t[yt];if(!o)return vo(t,(u,c)=>xh(i,o,t,u,c,r)),t;if(o.scope_!==i)return t;if(!o.modified_)return So(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let c=u,d=!1;o.type_===3&&(c=new Set(u),u.clear(),d=!0),vo(c,(p,m)=>xh(i,o,u,p,m,r,d)),So(i,u,!1),r&&i.patches_&&nr("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function xh(i,t,r,o,u,c,d){if(tr(u)){const p=c&&t&&t.type_!==3&&!ha(t.assigned_,o)?c.concat(o):void 0,m=wo(i,u,p);if(Mp(r,o,m),tr(m))i.canAutoFreeze_=!1;else return}else d&&r.add(u);if(un(u)&&!bo(u)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;wo(i,u),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&So(i,u)}}function So(i,t,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Ba(t,r)}function gv(i,t){const r=Array.isArray(i),o={type_:r?1:0,scope_:t?t.scope_:Lp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=o,c=Wa;r&&(u=[o],c=$i);const{revoke:d,proxy:p}=Proxy.revocable(u,c);return o.draft_=p,o.revoke_=d,p}var Wa={get(i,t){if(t===yt)return i;const r=Yn(i);if(!ha(r,t))return _v(i,r,t);const o=r[t];return i.finalized_||!un(o)?o:o===Xu(i.base_,t)?(Ju(i),i.copy_[t]=ya(o,i)):o},has(i,t){return t in Yn(i)},ownKeys(i){return Reflect.ownKeys(Yn(i))},set(i,t,r){const o=Fp(Yn(i),t);if(o!=null&&o.set)return o.set.call(i.draft_,r),!0;if(!i.modified_){const u=Xu(Yn(i),t),c=u==null?void 0:u[yt];if(c&&c.base_===r)return i.copy_[t]=r,i.assigned_[t]=!1,!0;if(fv(r,u)&&(r!==void 0||ha(i.base_,t)))return!0;Ju(i),_a(i)}return i.copy_[t]===r&&(r!==void 0||t in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=r,i.assigned_[t]=!0),!0},deleteProperty(i,t){return Xu(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,Ju(i),_a(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const r=Yn(i),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){zt(11)},getPrototypeOf(i){return zr(i.base_)},setPrototypeOf(){zt(12)}},$i={};vo(Wa,(i,t)=>{$i[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$i.deleteProperty=function(i,t){return $i.set.call(this,i,t,void 0)};$i.set=function(i,t,r){return Wa.set.call(this,i[0],t,r,i[0])};function Xu(i,t){const r=i[yt];return(r?Yn(r):i)[t]}function _v(i,t,r){var u;const o=Fp(t,r);return o?"value"in o?o.value:(u=o.get)==null?void 0:u.call(i.draft_):void 0}function Fp(i,t){if(!(t in i))return;let r=zr(i);for(;r;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=zr(r)}}function _a(i){i.modified_||(i.modified_=!0,i.parent_&&_a(i.parent_))}function Ju(i){i.copy_||(i.copy_=pa(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var yv=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const d=this;return function(m=c,...g){return d.produce(m,w=>r.call(this,w,...g))}}typeof r!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7);let u;if(un(t)){const c=Nh(this),d=ya(t,void 0);let p=!0;try{u=r(d),p=!1}finally{p?ma(c):ga(c)}return Ih(c,o),Rh(u,c)}else if(!t||typeof t!="object"){if(u=r(t),u===void 0&&(u=t),u===Ap&&(u=void 0),this.autoFreeze_&&Ba(u,!0),o){const c=[],d=[];nr("Patches").generateReplacementPatches_(t,u,c,d),o(c,d)}return u}else zt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let o,u;return[this.produce(t,r,(d,p)=>{o=d,u=p}),o,u]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){un(i)||zt(8),tr(i)&&(i=vv(i));const t=Nh(this),r=ya(i,void 0);return r[yt].isManual_=!0,ga(t),r}finishDraft(i,t){const r=i&&i[yt];(!r||!r.isManual_)&&zt(9);const{scope_:o}=r;return Ih(o,t),Rh(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let r;for(r=t.length-1;r>=0;r--){const u=t[r];if(u.path.length===0&&u.op==="replace"){i=u.value;break}}r>-1&&(t=t.slice(r+1));const o=nr("Patches").applyPatches_;return tr(i)?o(i,t):this.produce(i,u=>o(u,t))}};function ya(i,t){const r=Fo(i)?nr("MapSet").proxyMap_(i,t):zo(i)?nr("MapSet").proxySet_(i,t):gv(i,t);return(t?t.scope_:Lp()).drafts_.push(r),r}function vv(i){return tr(i)||zt(10,i),zp(i)}function zp(i){if(!un(i)||bo(i))return i;const t=i[yt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=pa(i,t.scope_.immer_.useStrictShallowCopy_)}else r=pa(i,!0);return vo(r,(o,u)=>{Mp(r,o,zp(u))}),t&&(t.finalized_=!1),r}var vt=new yv,bp=vt.produce;vt.produceWithPatches.bind(vt);vt.setAutoFreeze.bind(vt);vt.setUseStrictShallowCopy.bind(vt);vt.applyPatches.bind(vt);vt.createDraft.bind(vt);vt.finishDraft.bind(vt);function Up(i){return({dispatch:r,getState:o})=>u=>c=>typeof c=="function"?c(r,o,i):u(c)}var wv=Up(),Sv=Up,Ev=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yo:yo.apply(null,arguments)},Cv=i=>i&&typeof i.match=="function";function bi(i,t){function r(...o){if(t){let u=t(...o);if(!u)throw new Error(on(0));return{type:i,payload:u.payload,..."meta"in u&&{meta:u.meta},..."error"in u&&{error:u.error}}}return{type:i,payload:o[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=o=>av(o)&&o.type===i,r}var jp=class zi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zi.prototype)}static get[Symbol.species](){return zi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zi(...t[0].concat(this)):new zi(...t.concat(this))}};function Ph(i){return un(i)?bp(i,()=>{}):i}function Dh(i,t,r){return i.has(t)?i.get(t):i.set(t,r(t)).get(t)}function kv(i){return typeof i=="boolean"}var Tv=()=>function(t){const{thunk:r=!0,immutableCheck:o=!0,serializableCheck:u=!0,actionCreatorCheck:c=!0}=t??{};let d=new jp;return r&&(kv(r)?d.push(wv):d.push(Sv(r.extraArgument))),d},Iv="RTK_autoBatch",Ah=i=>t=>{setTimeout(t,i)},Nv=(i={type:"raf"})=>t=>(...r)=>{const o=t(...r);let u=!0,c=!1,d=!1;const p=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ah(10):i.type==="callback"?i.queueNotification:Ah(i.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(w=>w()))};return Object.assign({},o,{subscribe(w){const y=()=>u&&w(),T=o.subscribe(y);return p.add(w),()=>{T(),p.delete(w)}},dispatch(w){var y;try{return u=!((y=w==null?void 0:w.meta)!=null&&y[Iv]),c=!u,c&&(d||(d=!0,m(g))),o.dispatch(w)}finally{u=!0}}})},Rv=i=>function(r){const{autoBatch:o=!0}=r??{};let u=new jp(i);return o&&u.push(Nv(typeof o=="object"?o:void 0)),u};function xv(i){const t=Tv(),{reducer:r=void 0,middleware:o,devTools:u=!0,preloadedState:c=void 0,enhancers:d=void 0}=i;let p;if(typeof r=="function")p=r;else if(ja(r))p=lv(r);else throw new Error(on(1));let m;typeof o=="function"?m=o(t):m=t();let g=yo;u&&(g=Ev({trace:!1,...typeof u=="object"&&u}));const w=uv(...m),y=Rv(w);let T=typeof d=="function"?d(y):y();const A=g(...T);return Dp(p,c,A)}function Bp(i){const t={},r=[];let o;const u={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(on(28));if(p in t)throw new Error(on(29));return t[p]=d,u},addMatcher(c,d){return r.push({matcher:c,reducer:d}),u},addDefaultCase(c){return o=c,u}};return i(u),[t,r,o]}function Pv(i){return typeof i=="function"}function Dv(i,t){let[r,o,u]=Bp(t),c;if(Pv(i))c=()=>Ph(i());else{const p=Ph(i);c=()=>p}function d(p=c(),m){let g=[r[m.type],...o.filter(({matcher:w})=>w(m)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[u]),g.reduce((w,y)=>{if(y)if(tr(w)){const A=y(w,m);return A===void 0?w:A}else{if(un(w))return bp(w,T=>y(T,m));{const T=y(w,m);if(T===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return w},p)}return d.getInitialState=c,d}var Av=(i,t)=>Cv(i)?i.match(t):i(t);function Ov(...i){return t=>i.some(r=>Av(r,t))}var Mv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lv=(i=21)=>{let t="",r=i;for(;r--;)t+=Mv[Math.random()*64|0];return t},Fv=["name","message","stack","code"],Zu=class{constructor(i,t){ju(this,"_type");this.payload=i,this.meta=t}},Oh=class{constructor(i,t){ju(this,"_type");this.payload=i,this.meta=t}},zv=i=>{if(typeof i=="object"&&i!==null){const t={};for(const r of Fv)typeof i[r]=="string"&&(t[r]=i[r]);return t}return{message:String(i)}},bv=(()=>{function i(t,r,o){const u=bi(t+"/fulfilled",(m,g,w,y)=>({payload:m,meta:{...y||{},arg:w,requestId:g,requestStatus:"fulfilled"}})),c=bi(t+"/pending",(m,g,w)=>({payload:void 0,meta:{...w||{},arg:g,requestId:m,requestStatus:"pending"}})),d=bi(t+"/rejected",(m,g,w,y,T)=>({payload:y,error:(o&&o.serializeError||zv)(m||"Rejected"),meta:{...T||{},arg:w,requestId:g,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function p(m){return(g,w,y)=>{const T=o!=null&&o.idGenerator?o.idGenerator(m):Lv(),A=new AbortController;let O,H;function z(X){H=X,A.abort()}const ie=async function(){var G,J;let X;try{let Y=(G=o==null?void 0:o.condition)==null?void 0:G.call(o,m,{getState:w,extra:y});if(jv(Y)&&(Y=await Y),Y===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((Z,He)=>{O=()=>{He({name:"AbortError",message:H||"Aborted"})},A.signal.addEventListener("abort",O)});g(c(T,m,(J=o==null?void 0:o.getPendingMeta)==null?void 0:J.call(o,{requestId:T,arg:m},{getState:w,extra:y}))),X=await Promise.race([he,Promise.resolve(r(m,{dispatch:g,getState:w,extra:y,requestId:T,signal:A.signal,abort:z,rejectWithValue:(Z,He)=>new Zu(Z,He),fulfillWithValue:(Z,He)=>new Oh(Z,He)})).then(Z=>{if(Z instanceof Zu)throw Z;return Z instanceof Oh?u(Z.payload,T,m,Z.meta):u(Z,T,m)})])}catch(Y){X=Y instanceof Zu?d(null,T,m,Y.payload,Y.meta):d(Y,T,m)}finally{O&&A.signal.removeEventListener("abort",O)}return o&&!o.dispatchConditionRejection&&d.match(X)&&X.meta.condition||g(X),X}();return Object.assign(ie,{abort:z,requestId:T,arg:m,unwrap(){return ie.then(Uv)}})}}return Object.assign(p,{pending:c,rejected:d,fulfilled:u,settled:Ov(d,u),typePrefix:t})}return i.withTypes=()=>i,i})();function Uv(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function jv(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var Bv=Symbol.for("rtk-slice-createasyncthunk");function Wv(i,t){return`${i}/${t}`}function Hv({creators:i}={}){var r;const t=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[Bv];return function(u){const{name:c,reducerPath:d=c}=u;if(!c)throw new Error(on(11));const p=(typeof u.reducers=="function"?u.reducers(Vv()):u.reducers)||{},m=Object.keys(p),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(Q,G){const J=typeof Q=="string"?Q:Q.type;if(!J)throw new Error(on(12));if(J in g.sliceCaseReducersByType)throw new Error(on(13));return g.sliceCaseReducersByType[J]=G,w},addMatcher(Q,G){return g.sliceMatchers.push({matcher:Q,reducer:G}),w},exposeAction(Q,G){return g.actionCreators[Q]=G,w},exposeCaseReducer(Q,G){return g.sliceCaseReducersByName[Q]=G,w}};m.forEach(Q=>{const G=p[Q],J={reducerName:Q,type:Wv(c,Q),createNotation:typeof u.reducers=="function"};Kv(G)?qv(J,G,w,t):Gv(J,G,w)});function y(){const[Q={},G=[],J=void 0]=typeof u.extraReducers=="function"?Bp(u.extraReducers):[u.extraReducers],Y={...Q,...g.sliceCaseReducersByType};return Dv(u.initialState,he=>{for(let Z in Y)he.addCase(Z,Y[Z]);for(let Z of g.sliceMatchers)he.addMatcher(Z.matcher,Z.reducer);for(let Z of G)he.addMatcher(Z.matcher,Z.reducer);J&&he.addDefaultCase(J)})}const T=Q=>Q,A=new Map;let O;function H(Q,G){return O||(O=y()),O(Q,G)}function z(){return O||(O=y()),O.getInitialState()}function ie(Q,G=!1){function J(he){let Z=he[Q];return typeof Z>"u"&&G&&(Z=z()),Z}function Y(he=T){const Z=Dh(A,G,()=>new WeakMap);return Dh(Z,he,()=>{const He={};for(const[Rt,qt]of Object.entries(u.selectors??{}))He[Rt]=$v(qt,he,z,G);return He})}return{reducerPath:Q,getSelectors:Y,get selectors(){return Y(J)},selectSlice:J}}const X={name:c,reducer:H,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:z,...ie(d),injectInto(Q,{reducerPath:G,...J}={}){const Y=G??d;return Q.inject({reducerPath:Y,reducer:H},J),{...X,...ie(Y,!0)}}};return X}}function $v(i,t,r,o){function u(c,...d){let p=t(c);return typeof p>"u"&&o&&(p=r()),i(p,...d)}return u.unwrapped=i,u}var Wp=Hv();function Vv(){function i(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:i}}function Gv({type:i,reducerName:t,createNotation:r},o,u){let c,d;if("reducer"in o){if(r&&!Qv(o))throw new Error(on(17));c=o.reducer,d=o.prepare}else c=o;u.addCase(i,c).exposeCaseReducer(t,c).exposeAction(t,d?bi(i,d):bi(i))}function Kv(i){return i._reducerDefinitionType==="asyncThunk"}function Qv(i){return i._reducerDefinitionType==="reducerWithPrepare"}function qv({type:i,reducerName:t},r,o,u){if(!u)throw new Error(on(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:w}=r,y=u(i,c,w);o.exposeAction(t,y),d&&o.addCase(y.fulfilled,d),p&&o.addCase(y.pending,p),m&&o.addCase(y.rejected,m),g&&o.addMatcher(y.settled,g),o.exposeCaseReducer(t,{fulfilled:d||ho,pending:p||ho,rejected:m||ho,settled:g||ho})}function ho(){}function on(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const Yv=[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito y mayonesa",price:24,image:"hamburguesapollo.jpg"},{id:2,name:"Hamburguesa de Ternera",quantity:30,desc:"Hamburguesa de ternera y queso",price:34,image:"hamburguesaternera.jpg"},{id:3,name:"Patatas fritas",quantity:25,desc:"Patatas fritas",price:10,image:"patatasfritas.jpg"},{id:4,name:"Helado",quantity:50,desc:"Cono de chocolate y nata",price:5,image:"helado.jpg"}],Hp=Wp({name:"foods",initialState:Yv,reducers:{setFoodItems:(i,t)=>t.payload,updateFoodItem:(i,t)=>{const{id:r,quantity:o}=t.payload,u=i.find(c=>c.id===r);u&&(u.quantity=o)}}}),{setFoodItems:P0,updateFoodItem:D0}=Hp.actions,Xv=Hp.reducer;var Mh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Br(t)},Br=function(i){return new Error("Firebase Database ("+$p.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Jv=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],d=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],d=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ha={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],d=u+1<i.length,p=d?i[u+1]:0,m=u+2<i.length,g=m?i[u+2]:0,w=c>>2,y=(c&3)<<4|p>>4;let T=(p&15)<<2|g>>6,A=g&63;m||(A=64,d||(T=64)),o.push(r[w],r[y],r[T],r[A])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Vp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Jv(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const g=u<i.length?r[i.charAt(u)]:64;++u;const y=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||g==null||y==null)throw new Zv;const T=c<<2|p>>4;if(o.push(T),g!==64){const A=p<<4&240|g>>2;if(o.push(A),y!==64){const O=g<<6&192|y;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Zv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gp=function(i){const t=Vp(i);return Ha.encodeByteArray(t,!0)},Eo=function(i){return Gp(i).replace(/\./g,"")},va=function(i){try{return Ha.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i){return Kp(void 0,i)}function Kp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!tw(r)||(i[r]=Kp(i[r],t[r]));return i}function tw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=()=>nw().__FIREBASE_DEFAULTS__,iw=()=>{if(typeof process>"u"||typeof Mh>"u")return;const i=Mh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&va(i[1]);return t&&JSON.parse(t)},Qp=()=>{try{return rw()||iw()||sw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ow=i=>{var t,r;return(r=(t=Qp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},lw=i=>{const t=ow(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},qp=()=>{var i;return(i=Qp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eo(JSON.stringify(r)),Eo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(aw())}function cw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){return $p.NODE_ADMIN===!0}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="FirebaseError";class Yi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=pw,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xp.prototype.create)}}class Xp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],d=c?mw(c,o):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Yi(u,p,o)}}function mw(i,t){return i.replace(gw,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const gw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i){return JSON.parse(i)}function Qe(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Vi(va(c[0])||""),r=Vi(va(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},_w=function(i){const t=Jp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},yw=function(i){const t=Jp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function br(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Lh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Co(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function wa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],d=t[u];if(Fh(c)&&Fh(d)){if(!wa(c,d))return!1}else if(c!==d)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function Fh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)o[y]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)o[y]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let y=16;y<80;y++){const T=o[y-3]^o[y-8]^o[y-14]^o[y-16];o[y]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,w;for(let y=0;y<80;y++){y<40?y<20?(g=p^c&(d^p),w=1518500249):(g=c^d^p,w=1859775393):y<60?(g=c&d|p&(c|d),w=2400959708):(g=c^d^p,w=3395469782);const T=(u<<5|u>>>27)+g+m+w+o[y]&4294967295;m=p,p=d,d=(c<<30|c>>>2)&4294967295,c=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let d=this.inbuf_;for(;u<r;){if(d===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[d]=t.charCodeAt(u),++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}else for(;u<r;)if(c[d]=t[u],++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function $a(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;u=65536+(c<<10)+d}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},jo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i){return i&&i._delegate?i._delegate:i}class Gi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Uo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kw(t))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=Xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xn){return this.instances.has(t)}getOptions(t=Xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&d.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const d=this.instances.get(u);return d&&t(d,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Cw(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Xn){return this.component?this.component.multipleInstances?t:Xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cw(i){return i===Xn?void 0:i}function kw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Ew(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ve||(ve={}));const Iw={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Nw=ve.INFO,Rw={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},xw=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=Rw[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zp{constructor(t){this.name=t,this._logLevel=Nw,this._logHandler=xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Iw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const Pw=(i,t)=>t.some(r=>i instanceof r);let zh,bh;function Dw(){return zh||(zh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aw(){return bh||(bh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const em=new WeakMap,Sa=new WeakMap,tm=new WeakMap,ea=new WeakMap,Va=new WeakMap;function Ow(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{r(An(i.result)),u()},d=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&em.set(r,i)}).catch(()=>{}),Va.set(t,i),t}function Mw(i){if(Sa.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{r(),u()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Sa.set(i,t)}let Ea={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Sa.get(i);if(t==="objectStoreNames")return i.objectStoreNames||tm.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return An(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Lw(i){Ea=i(Ea)}function Fw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(ta(this),t,...r);return tm.set(o,t.sort?t.sort():[t]),An(o)}:Aw().includes(i)?function(...t){return i.apply(ta(this),t),An(em.get(this))}:function(...t){return An(i.apply(ta(this),t))}}function zw(i){return typeof i=="function"?Fw(i):(i instanceof IDBTransaction&&Mw(i),Pw(i,Dw())?new Proxy(i,Ea):i)}function An(i){if(i instanceof IDBRequest)return Ow(i);if(ea.has(i))return ea.get(i);const t=zw(i);return t!==i&&(ea.set(i,t),Va.set(t,i)),t}const ta=i=>Va.get(i);function bw(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const d=indexedDB.open(i,t),p=An(d);return o&&d.addEventListener("upgradeneeded",m=>{o(An(d.result),m.oldVersion,m.newVersion,An(d.transaction),m)}),r&&d.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Uw=["get","getKey","getAll","getAllKeys","count"],jw=["put","add","delete","clear"],na=new Map;function Uh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(na.get(t))return na.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=jw.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Uw.includes(r)))return;const c=async function(d,...p){const m=this.transaction(d,u?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),u&&m.done]))[0]};return na.set(t,c),c}Lw(i=>({...i,get:(t,r,o)=>Uh(t,r)||i.get(t,r,o),has:(t,r)=>!!Uh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ww(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Ww(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ca="@firebase/app",jh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Zp("@firebase/app"),Hw="@firebase/app-compat",$w="@firebase/analytics-compat",Vw="@firebase/analytics",Gw="@firebase/app-check-compat",Kw="@firebase/app-check",Qw="@firebase/auth",qw="@firebase/auth-compat",Yw="@firebase/database",Xw="@firebase/data-connect",Jw="@firebase/database-compat",Zw="@firebase/functions",eS="@firebase/functions-compat",tS="@firebase/installations",nS="@firebase/installations-compat",rS="@firebase/messaging",iS="@firebase/messaging-compat",sS="@firebase/performance",oS="@firebase/performance-compat",lS="@firebase/remote-config",uS="@firebase/remote-config-compat",aS="@firebase/storage",cS="@firebase/storage-compat",fS="@firebase/firestore",dS="@firebase/vertexai",hS="@firebase/firestore-compat",pS="firebase",mS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]",gS={[Ca]:"fire-core",[Hw]:"fire-core-compat",[Vw]:"fire-analytics",[$w]:"fire-analytics-compat",[Kw]:"fire-app-check",[Gw]:"fire-app-check-compat",[Qw]:"fire-auth",[qw]:"fire-auth-compat",[Yw]:"fire-rtdb",[Xw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[Zw]:"fire-fn",[eS]:"fire-fn-compat",[tS]:"fire-iid",[nS]:"fire-iid-compat",[rS]:"fire-fcm",[iS]:"fire-fcm-compat",[sS]:"fire-perf",[oS]:"fire-perf-compat",[lS]:"fire-rc",[uS]:"fire-rc-compat",[aS]:"fire-gcs",[cS]:"fire-gcs-compat",[fS]:"fire-fst",[hS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Map,_S=new Map,Ta=new Map;function Bh(i,t){try{i.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function To(i){const t=i.name;if(Ta.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Ta.set(t,i);for(const r of ko.values())Bh(r,i);for(const r of _S.values())Bh(r,i);return!0}function yS(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Xp("app","Firebase",vS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=mS;function nm(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:ka,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw On.create("bad-app-name",{appName:String(u)});if(r||(r=qp()),!r)throw On.create("no-options");const c=ko.get(u);if(c){if(wa(r,c.options)&&wa(o,c.config))return c;throw On.create("duplicate-app",{appName:u})}const d=new Tw(u);for(const m of Ta.values())d.addComponent(m);const p=new wS(r,o,d);return ko.set(u,p),p}function ES(i=ka){const t=ko.get(i);if(!t&&i===ka&&qp())return nm();if(!t)throw On.create("no-app",{appName:i});return t}function Mr(i,t,r){var o;let u=(o=gS[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(p.join(" "));return}To(new Gi(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebase-heartbeat-database",kS=1,Ki="firebase-heartbeat-store";let ra=null;function rm(){return ra||(ra=bw(CS,kS,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ki)}catch(r){console.warn(r)}}}}).catch(i=>{throw On.create("idb-open",{originalErrorMessage:i.message})})),ra}async function TS(i){try{const r=(await rm()).transaction(Ki),o=await r.objectStore(Ki).get(im(i));return await r.done,o}catch(t){if(t instanceof Yi)an.warn(t.message);else{const r=On.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(r.message)}}}async function Wh(i,t){try{const o=(await rm()).transaction(Ki,"readwrite");await o.objectStore(Ki).put(t,im(i)),await o.done}catch(r){if(r instanceof Yi)an.warn(r.message);else{const o=On.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});an.warn(o.message)}}}function im(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,NS=30*24*60*60*1e3;class RS{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new PS(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Hh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=NS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hh(),{heartbeatsToSend:o,unsentEntries:u}=xS(this._heartbeatsCache.heartbeats),c=Eo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return an.warn(r),""}}}function Hh(){return new Date().toISOString().substring(0,10)}function xS(i,t=IS){const r=[];let o=i.slice();for(const u of i){const c=r.find(d=>d.agent===u.agent);if(c){if(c.dates.push(u.date),$h(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),$h(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class PS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await TS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function $h(i){return Eo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(i){To(new Gi("platform-logger",t=>new Bw(t),"PRIVATE")),To(new Gi("heartbeat",t=>new RS(t),"PRIVATE")),Mr(Ca,jh,i),Mr(Ca,jh,"esm2017"),Mr("fire-js","")}DS("");var Vh={};const Gh="@firebase/database",Kh="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm="";function AS(i){sm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Qe(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Vi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new OS(t)}}catch{}return new MS},Zn=om("localStorage"),LS=om("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Zp("@firebase/database"),FS=function(){let i=1;return function(){return i++}}(),lm=function(i){const t=Sw(i),r=new ww;r.update(t);const o=r.digest();return Ha.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=Qe(o):t+=o,t+=" "}return t};let Ui=null,Qh=!0;const zS=function(i,t){M(!0,"Can't turn on custom loggers persistently."),Lr.logLevel=ve.VERBOSE,Ui=Lr.log.bind(Lr)},Ze=function(...i){if(Qh===!0&&(Qh=!1,Ui===null&&LS.get("logging_enabled")===!0&&zS()),Ui){const t=Xi.apply(null,i);Ui(t)}},Ji=function(i){return function(...t){Ze(i,...t)}},Ia=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);Lr.error(t)},cn=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw Lr.error(t),new Error(t)},ft=function(...i){const t="FIREBASE WARNING: "+Xi(...i);Lr.warn(t)},bS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},um=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},US=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ur="[MIN_NAME]",rr="[MAX_NAME]",Hr=function(i,t){if(i===t)return 0;if(i===Ur||t===rr)return-1;if(t===Ur||i===rr)return 1;{const r=qh(i),o=qh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},jS=function(i,t){return i===t?0:i<t?-1:1},Ai=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Qe(t))},Ga=function(i){if(typeof i!="object"||i===null)return Qe(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Qe(t[o]),r+=":",r+=Ga(i[t[o]]);return r+="}",r},am=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function Nt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const cm=function(i){M(!um(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,d,p,m;i===0?(c=0,d=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,d=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(u?1:0),g.reverse();const w=g.join("");let y="";for(m=0;m<64;m+=8){let T=parseInt(w.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),y=y+T}return y.toLowerCase()},BS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},HS=new RegExp("^-?(0*)\\d{1,10}$"),$S=-2147483648,VS=2147483647,qh=function(i){if(HS.test(i)){const t=Number(i);if(t>=$S&&t<=VS)return t}return null},$r=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ft("Exception was thrown by user callback.",r),t},Math.floor(0))}},GS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ji=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class go{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="5",fm="v",dm="s",hm="r",pm="f",mm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gm="ls",_m="p",Na="ac",ym="websocket",vm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,r,o,u,c=!1,d="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function qS(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Sm(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===ym)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===vm)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);qS(i)&&(r.ns=i.namespace);const u=[];return Nt(r,(c,d)=>{u.push(c+"="+d)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.counters_={}}incrementCounter(t,r=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return ew(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={},sa={};function Qa(i){const t=i.toString();return ia[t]||(ia[t]=new YS),ia[t]}function XS(i,t){const r=i.toString();return sa[r]||(sa[r]=t()),sa[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&$r(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="start",ZS="close",eE="pLPCommand",tE="pRTLPCB",Em="id",Cm="pw",km="ser",nE="cb",rE="seg",iE="ts",sE="d",oE="dframe",Tm=1870,Im=30,lE=Tm-Im,uE=25e3,aE=3e4;class Or{constructor(t,r,o,u,c,d,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Qa(r),this.urlFn=m=>(this.appCheckToken&&(m[Na]=this.appCheckToken),Sm(r,vm,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new JS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aE)),US(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qa((...c)=>{const[d,p,m,g,w]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Yh)this.id=p,this.password=m;else if(d===ZS)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Yh]="t",o[km]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[nE]=this.scriptTagHolder.uniqueCallbackIdentifier),o[fm]=Ka,this.transportSessionId&&(o[dm]=this.transportSessionId),this.lastSessionId&&(o[gm]=this.lastSessionId),this.applicationId&&(o[_m]=this.applicationId),this.appCheckToken&&(o[Na]=this.appCheckToken),typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(o[hm]=pm);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BS()&&!WS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Gp(r),u=am(o,lE);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[oE]="t",o[Em]=t,o[Cm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Qe(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class qa{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FS(),window[eE+this.uniqueCallbackIdentifier]=t,window[tE+this.uniqueCallbackIdentifier]=r,this.myIFrame=qa.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ze("frame writing exception"),p.stack&&Ze(p.stack),Ze(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ze("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Em]=this.myID,t[Cm]=this.myPW,t[km]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Im+o.length<=Tm;){const d=this.pendingSegs.shift();o=o+"&"+rE+u+"="+d.seg+"&"+iE+u+"="+d.ts+"&"+sE+u+"="+d.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(uE)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=16384,fE=45e3;let Io=null;typeof MozWebSocket<"u"?Io=MozWebSocket:typeof WebSocket<"u"&&(Io=WebSocket);class Kt{constructor(t,r,o,u,c,d,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Qa(r),this.connURL=Kt.connectionURL_(r,d,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const d={};return d[fm]=Ka,typeof location<"u"&&location.hostname&&mm.test(location.hostname)&&(d[hm]=pm),r&&(d[dm]=r),o&&(d[gm]=o),u&&(d[Na]=u),c&&(d[_m]=c),Sm(t,ym,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;fw(),this.mySock=new Io(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Io!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Vi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=am(r,cE);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fE))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{static get ALL_TRANSPORTS(){return[Or,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Kt.isAvailable();let o=r&&!Kt.previouslyFailed();if(t.webSocketOnly&&(r||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{const u=this.transports_=[];for(const c of Qi.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);Qi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=6e4,hE=5e3,pE=10*1024,mE=100*1024,oa="t",Xh="d",gE="s",Jh="r",_E="e",Zh="o",ep="a",tp="n",np="p",yE="h";class vE{constructor(t,r,o,u,c,d,p,m,g,w){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new Qi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=ji(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(oa in t){const r=t[oa];r===ep?this.upgradeIfSecondaryHealthy_():r===Jh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Zh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ai("t",t),o=Ai("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ep,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ai("t",t),o=Ai("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ai(oa,t);if(Xh in t){const o=t[Xh];if(r===yE){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===tp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===gE?this.onConnectionShutdown_(o):r===Jh?this.onReset_(o):r===_E?Ia("Server Error: "+o):r===Zh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ia("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ka!==o&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),ji(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ji(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:np,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Rm{static getInstance(){return new No}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=32,ip=768;class ke{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ge(){return new ke("")}function re(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fn(i){return i.pieces_.length-i.pieceNum_}function Ce(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ke(i.pieces_,t)}function xm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function wE(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Pm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Dm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ke(t,0)}function Fe(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ke)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ke(r,0)}function se(i){return i.pieceNum_>=i.pieces_.length}function It(i,t){const r=re(i),o=re(t);if(r===null)return t;if(r===o)return It(Ce(i),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function Am(i,t){if(Fn(i)!==Fn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function bt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Fn(i)>Fn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class SE{constructor(t,r){this.errorPrefix_=r,this.parts_=Pm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=jo(this.parts_[o]);Om(this)}}function EE(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=jo(t),Om(i)}function CE(i){const t=i.parts_.pop();i.byteLength_-=jo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Om(i){if(i.byteLength_>ip)throw new Error(i.errorPrefix_+"has a key path longer than "+ip+" bytes ("+i.byteLength_+").");if(i.parts_.length>rp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rp+") or object contains a cycle "+Jn(i))}function Jn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Rm{static getInstance(){return new Ya}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=1e3,kE=60*5*1e3,sp=30*1e3,TE=1.3,IE=3e4,NE="server_kill",op=3;class ln extends Nm{constructor(t,r,o,u,c,d,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=ln.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oi,this.maxReconnectDelay_=kE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ya.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&No.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(Qe(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new Uo,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;d.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},d="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,p=>{const m=p.d,g=p.s;ln.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&dn(t,"w")){const o=br(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||yw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=_w(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,d=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},d="n";u&&(c.q=o,c.t=u),this.sendRequest(d,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{u&&setTimeout(()=>{u(d.s,d.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const d={p:r,d:o};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qe(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Ia("Unrecognized action received from server: "+Qe(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IE&&(this.reconnectDelay_=Oi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+ln.nextConnectionId_++,c=this.lastSessionId;let d=!1,p=null;const m=function(){p?p.close():(d=!0,o())},g=function(y){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(y)};this.realtime_={close:m,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,T]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=T&&T.token,p=new vE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,A=>{ft(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(NE)},c))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&ft(y),m())}}}interrupt(t){Ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lh(this.interruptReasons_)&&(this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Ga(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ke(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){Ze("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=op&&(this.reconnectDelay_=sp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ze("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+sm.replace(/\./g,"-")]=1,Yp()?t["framework.cordova"]=1:cw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=No.getInstance().currentlyOnline();return Lh(this.interruptReasons_)&&t}}ln.nextPersistentConnectionId_=0;ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new oe(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new oe(Ur,t),u=new oe(Ur,r);return this.compare(o,u)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po;class Mm extends Bo{static get __EMPTY_NODE(){return po}static set __EMPTY_NODE(t){po=t}compare(t,r){return Hr(t.name,r.name)}isDefinedOn(t){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return oe.MIN}maxPost(){return new oe(rr,po)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new oe(t,po)}toString(){return".key"}}const Fr=new Mm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,u&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=u??ct.EMPTY_NODE,this.right=c??ct.EMPTY_NODE}copy(t,r,o,u,c){return new We(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ct.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class RE{copy(t,r,o,u,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ct{constructor(t,r=ct.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ct(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new ct(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new mo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new mo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new mo(this.root_,null,this.comparator_,!0,t)}}ct.EMPTY_NODE=new RE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i,t){return Hr(i.name,t.name)}function Xa(i,t){return Hr(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;function PE(i){Ra=i}const Lm=function(i){return typeof i=="number"?"number:"+cm(i):"string:"+i},Fm=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else M(i===Ra||i.isEmpty(),"priority of unexpected type.");M(i===Ra||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp;class Be{static set __childrenNodeConstructor(t){lp=t}static get __childrenNodeConstructor(){return lp}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return se(t)?this:re(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=re(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Fn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Lm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=cm(this.value_):t+=this.value_,this.lazyHash_=lm(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Be.VALUE_TYPE_ORDER.indexOf(r),c=Be.VALUE_TYPE_ORDER.indexOf(o);return M(u>=0,"Unknown leaf type: "+r),M(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm,bm;function DE(i){zm=i}function AE(i){bm=i}class OE extends Bo{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?Hr(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(rr,new Be("[PRIORITY-POST]",bm))}makePost(t,r){const o=zm(t);return new oe(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const et=new OE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=Math.log(2);class LE{constructor(t){const r=c=>parseInt(Math.log(c)/ME,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ro=function(i,t,r,o){i.sort(t);const u=function(m,g){const w=g-m;let y,T;if(w===0)return null;if(w===1)return y=i[m],T=r?r(y):y,new We(T,y.node,We.BLACK,null,null);{const A=parseInt(w/2,10)+m,O=u(m,A),H=u(A+1,g);return y=i[A],T=r?r(y):y,new We(T,y.node,We.BLACK,O,H)}},c=function(m){let g=null,w=null,y=i.length;const T=function(O,H){const z=y-O,ie=y;y-=O;const X=u(z+1,ie),Q=i[z],G=r?r(Q):Q;A(new We(G,Q.node,H,null,X))},A=function(O){g?(g.left=O,g=O):(w=O,g=O)};for(let O=0;O<m.count;++O){const H=m.nextBitIsOne(),z=Math.pow(2,m.count-(O+1));H?T(z,We.BLACK):(T(z,We.BLACK),T(z,We.RED))}return w},d=new LE(i.length),p=c(d);return new ct(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const Mi={};class sn{static get Default(){return M(et,"ChildrenNode.ts has not been loaded"),la=la||new sn({".priority":Mi},{".priority":et}),la}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=br(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ct?r:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,r){M(t!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(oe.Wrap);let d=c.getNext();for(;d;)u=u||t.isDefinedOn(d.node),o.push(d),d=c.getNext();let p;u?p=Ro(o,t.getCompare()):p=Mi;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const w=Object.assign({},this.indexes_);return w[m]=p,new sn(w,g)}addToIndexes(t,r){const o=Co(this.indexes_,(u,c)=>{const d=br(this.indexSet_,c);if(M(d,"Missing index implementation for "+c),u===Mi)if(d.isDefinedOn(t.node)){const p=[],m=r.getIterator(oe.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),Ro(p,d.getCompare())}else return Mi;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new oe(t.name,p))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=Co(this.indexes_,u=>{if(u===Mi)return u;{const c=r.get(t.name);return c?u.remove(new oe(t.name,c)):u}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Li;class de{static get EMPTY_NODE(){return Li||(Li=new de(new ct(Xa),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Fm(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Li}updatePriority(t){return this.children_.isEmpty()?this:new de(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Li:r}}getChild(t){const r=re(t);return r===null?this:this.getImmediateChild(r).getChild(Ce(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new oe(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const d=u.isEmpty()?Li:this.priorityNode_;return new de(u,d,c)}}updateChild(t,r){const o=re(t);if(o===null)return r;{M(re(t)!==".priority"||Fn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Ce(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(et,(d,p)=>{r[d]=p.val(t),o++,c&&de.INTEGER_REGEXP_.test(d)?u=Math.max(u,Number(d)):c=!1}),!t&&c&&u<2*o){const d=[];for(const p in r)d[p]=r[p];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Lm(this.getPriority().val())+":"),this.forEachChild(et,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":lm(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new oe(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new oe(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new oe(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,oe.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,oe.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zi?-1:0}withIndex(t){if(t===Fr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new de(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Fr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(et),u=r.getIterator(et);let c=o.getNext(),d=u.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=o.getNext(),d=u.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Fr?null:this.indexMap_.get(t.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class FE extends de{constructor(){super(new ct(Xa),de.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return de.EMPTY_NODE}isEmpty(){return!1}}const Zi=new FE;Object.defineProperties(oe,{MIN:{value:new oe(Ur,de.EMPTY_NODE)},MAX:{value:new oe(rr,Zi)}});Mm.__EMPTY_NODE=de.EMPTY_NODE;Be.__childrenNodeConstructor=de;PE(Zi);AE(Zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=!0;function Ke(i,t=null){if(i===null)return de.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,Ke(t))}if(!(i instanceof Array)&&zE){const r=[];let o=!1;if(Nt(i,(d,p)=>{if(d.substring(0,1)!=="."){const m=Ke(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new oe(d,m)))}}),r.length===0)return de.EMPTY_NODE;const c=Ro(r,xE,d=>d.name,Xa);if(o){const d=Ro(r,et.getCompare());return new de(c,Ke(t),new sn({".priority":d},{".priority":et}))}else return new de(c,Ke(t),sn.Default)}else{let r=de.EMPTY_NODE;return Nt(i,(o,u)=>{if(dn(i,o)&&o.substring(0,1)!=="."){const c=Ke(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ke(t))}}DE(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends Bo{constructor(t){super(),this.indexPath_=t,M(!se(t)&&re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?Hr(t.name,r.name):c}makePost(t,r){const o=Ke(t),u=de.EMPTY_NODE.updateChild(this.indexPath_,o);return new oe(r,u)}maxPost(){const t=de.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new oe(rr,t)}toString(){return Pm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Bo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Hr(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(t,r){const o=Ke(t);return new oe(r,o)}toString(){return".value"}}const jE=new UE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(i){return{type:"value",snapshotNode:i}}function WE(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function HE(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function up(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function $E(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const t=new Ja;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ap(i){const t={};if(i.isDefault())return t;let r;if(i.index_===et?r="$priority":i.index_===jE?r="$value":i.index_===Fr?r="$key":(M(i.index_ instanceof bE,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Qe(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Qe(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Qe(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Qe(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Qe(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function cp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==et&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Nm{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Ji("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=xo.getListenId_(t,o),p={};this.listens_[d]=p;const m=ap(t._queryParams);this.restRequest_(c+".json",m,(g,w)=>{let y=w;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(c,y,!1,o),br(this.listens_,d)===p){let T;g?g===401?T="permission_denied":T="rest_error:"+g:T="ok",u(T,null)}})}unlisten(t,r){const o=xo.getListenId_(t,r);delete this.listens_[o]}get(t){const r=ap(t._queryParams),o=t._path.toString(),u=new Uo;return this.restRequest_(o+".json",r,(c,d)=>{let p=d;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+vw(r);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Vi(p.responseText)}catch{ft("Failed to parse JSON response for "+d+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ft("Got unsuccessful REST response for "+d+" Status: "+p.status),o(p.status);o=null}},p.open("GET",d,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(){return{value:null,children:new Map}}function Um(i,t,r){if(se(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=re(t);i.children.has(o)||i.children.set(o,Po());const u=i.children.get(o);t=Ce(t),Um(u,t,r)}}function xa(i,t,r){i.value!==null?r(t,i.value):GE(i,(o,u)=>{const c=new ke(t.toString()+"/"+o);xa(u,c,r)})}function GE(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Nt(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=10*1e3,QE=30*1e3,qE=5*60*1e3;class YE{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new KE(t);const o=fp+(QE-fp)*Math.random();ji(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Nt(t,(u,c)=>{c>0&&dn(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),ji(this.reportStats_.bind(this),Math.floor(Math.random()*2*qE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function jm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wm(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Qt.ACK_USER_WRITE,this.source=jm()}operationForChild(t){if(se(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ke(t));return new Do(ge(),r,this.revert)}}else return M(re(this.path)===t,"operationForChild called for unrelated child."),new Do(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Qt.OVERWRITE}operationForChild(t){return se(this.path)?new ir(this.source,ge(),this.snap.getImmediateChild(t)):new ir(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Qt.MERGE}operationForChild(t){if(se(this.path)){const r=this.children.subtree(new ke(t));return r.isEmpty()?null:r.value?new ir(this.source,ge(),r.value):new qi(this.source,ge(),r)}else return M(re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qi(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(se(t))return this.isFullyInitialized()&&!this.filtered_;const r=re(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function XE(i,t,r,o){const u=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push($E(d.childName,d.snapshotNode))}),Fi(i,u,"child_removed",t,o,r),Fi(i,u,"child_added",t,o,r),Fi(i,u,"child_moved",c,o,r),Fi(i,u,"child_changed",t,o,r),Fi(i,u,"value",t,o,r),u}function Fi(i,t,r,o,u,c){const d=o.filter(p=>p.type===r);d.sort((p,m)=>ZE(i,p,m)),d.forEach(p=>{const m=JE(i,p,c);u.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function JE(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function ZE(i,t,r){if(t.childName==null||r.childName==null)throw Br("Should only compare child_ events.");const o=new oe(t.childName,t.snapshotNode),u=new oe(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i,t){return{eventCache:i,serverCache:t}}function Bi(i,t,r,o){return Hm(new Za(t,r,o),i.serverCache)}function $m(i,t,r,o){return Hm(i.eventCache,new Za(t,r,o))}function Pa(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function sr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua;const eC=()=>(ua||(ua=new ct(jS)),ua);class Ee{static fromObject(t){let r=new Ee(null);return Nt(t,(o,u)=>{r=r.set(new ke(o),u)}),r}constructor(t,r=eC()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ge(),value:this.value};if(se(t))return null;{const o=re(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(Ce(t),r);return c!=null?{path:Fe(new ke(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(se(t))return this;{const r=re(t),o=this.children.get(r);return o!==null?o.subtree(Ce(t)):new Ee(null)}}set(t,r){if(se(t))return new Ee(r,this.children);{const o=re(t),c=(this.children.get(o)||new Ee(null)).set(Ce(t),r),d=this.children.insert(o,c);return new Ee(this.value,d)}}remove(t){if(se(t))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const r=re(t),o=this.children.get(r);if(o){const u=o.remove(Ce(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new Ee(null):new Ee(this.value,c)}else return this}}get(t){if(se(t))return this.value;{const r=re(t),o=this.children.get(r);return o?o.get(Ce(t)):null}}setTree(t,r){if(se(t))return r;{const o=re(t),c=(this.children.get(o)||new Ee(null)).setTree(Ce(t),r);let d;return c.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,c),new Ee(this.value,d)}}fold(t){return this.fold_(ge(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(Fe(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ge(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(se(t))return null;{const c=re(t),d=this.children.get(c);return d?d.findOnPath_(Ce(t),Fe(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ge(),r)}foreachOnPath_(t,r,o){if(se(t))return this;{this.value&&o(r,this.value);const u=re(t),c=this.children.get(u);return c?c.foreachOnPath_(Ce(t),Fe(r,u),o):new Ee(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(Fe(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.writeTree_=t}static empty(){return new Ut(new Ee(null))}}function Wi(i,t,r){if(se(t))return new Ut(new Ee(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const d=It(u,t);return c=c.updateChild(d,r),new Ut(i.writeTree_.set(u,c))}else{const u=new Ee(r),c=i.writeTree_.setTree(t,u);return new Ut(c)}}}function dp(i,t,r){let o=i;return Nt(r,(u,c)=>{o=Wi(o,Fe(t,u),c)}),o}function hp(i,t){if(se(t))return Ut.empty();{const r=i.writeTree_.setTree(t,new Ee(null));return new Ut(r)}}function Da(i,t){return or(i,t)!=null}function or(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(It(r.path,t)):null}function pp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(et,(o,u)=>{t.push(new oe(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new oe(o,u.value))}),t}function Mn(i,t){if(se(t))return i;{const r=or(i,t);return r!=null?new Ut(new Ee(r)):new Ut(i.writeTree_.subtree(t))}}function Aa(i){return i.writeTree_.isEmpty()}function jr(i,t){return Vm(ge(),i.writeTree_,t)}function Vm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Vm(Fe(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Fe(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(i,t){return Xm(t,i)}function tC(i,t,r,o,u){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=Wi(i.visibleWrites,t,r)),i.lastWriteId=o}function nC(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function rC(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,d=i.allWrites.length-1;for(;u&&d>=0;){const p=i.allWrites[d];p.visible&&(d>=r&&iC(p,o.path)?u=!1:bt(o.path,p.path)&&(c=!0)),d--}if(u){if(c)return sC(i),!0;if(o.snap)i.visibleWrites=hp(i.visibleWrites,o.path);else{const p=o.children;Nt(p,m=>{i.visibleWrites=hp(i.visibleWrites,Fe(o.path,m))})}return!0}else return!1}function iC(i,t){if(i.snap)return bt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&bt(Fe(i.path,r),t))return!0;return!1}function sC(i){i.visibleWrites=Km(i.allWrites,oC,ge()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function oC(i){return i.visible}function Km(i,t,r){let o=Ut.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const d=c.path;let p;if(c.snap)bt(r,d)?(p=It(r,d),o=Wi(o,p,c.snap)):bt(d,r)&&(p=It(d,r),o=Wi(o,ge(),c.snap.getChild(p)));else if(c.children){if(bt(r,d))p=It(r,d),o=dp(o,p,c.children);else if(bt(d,r))if(p=It(d,r),se(p))o=dp(o,ge(),c.children);else{const m=br(c.children,re(p));if(m){const g=m.getChild(Ce(p));o=Wi(o,ge(),g)}}}else throw Br("WriteRecord should have .snap or .children")}}return o}function Qm(i,t,r,o,u){if(!o&&!u){const c=or(i.visibleWrites,t);if(c!=null)return c;{const d=Mn(i.visibleWrites,t);if(Aa(d))return r;if(r==null&&!Da(d,ge()))return null;{const p=r||de.EMPTY_NODE;return jr(d,p)}}}else{const c=Mn(i.visibleWrites,t);if(!u&&Aa(c))return r;if(!u&&r==null&&!Da(c,ge()))return null;{const d=function(g){return(g.visible||u)&&(!o||!~o.indexOf(g.writeId))&&(bt(g.path,t)||bt(t,g.path))},p=Km(i.allWrites,d,t),m=r||de.EMPTY_NODE;return jr(p,m)}}}function lC(i,t,r){let o=de.EMPTY_NODE;const u=or(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(et,(c,d)=>{o=o.updateImmediateChild(c,d)}),o;if(r){const c=Mn(i.visibleWrites,t);return r.forEachChild(et,(d,p)=>{const m=jr(Mn(c,new ke(d)),p);o=o.updateImmediateChild(d,m)}),pp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const c=Mn(i.visibleWrites,t);return pp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function uC(i,t,r,o,u){M(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=Fe(t,r);if(Da(i.visibleWrites,c))return null;{const d=Mn(i.visibleWrites,c);return Aa(d)?u.getChild(r):jr(d,u.getChild(r))}}function aC(i,t,r,o){const u=Fe(t,r),c=or(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const d=Mn(i.visibleWrites,u);return jr(d,o.getNode().getImmediateChild(r))}else return null}function cC(i,t){return or(i.visibleWrites,t)}function fC(i,t,r,o,u,c,d){let p;const m=Mn(i.visibleWrites,t),g=or(m,ge());if(g!=null)p=g;else if(r!=null)p=jr(m,r);else return[];if(p=p.withIndex(d),!p.isEmpty()&&!p.isLeafNode()){const w=[],y=d.getCompare(),T=c?p.getReverseIteratorFrom(o,d):p.getIteratorFrom(o,d);let A=T.getNext();for(;A&&w.length<u;)y(A,o)!==0&&w.push(A),A=T.getNext();return w}else return[]}function dC(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function Oa(i,t,r,o){return Qm(i.writeTree,i.treePath,t,r,o)}function qm(i,t){return lC(i.writeTree,i.treePath,t)}function mp(i,t,r,o){return uC(i.writeTree,i.treePath,t,r,o)}function Ao(i,t){return cC(i.writeTree,Fe(i.treePath,t))}function hC(i,t,r,o,u,c){return fC(i.writeTree,i.treePath,t,r,o,u,c)}function ec(i,t,r){return aC(i.writeTree,i.treePath,t,r)}function Ym(i,t){return Xm(Fe(i.treePath,t),i.writeTree)}function Xm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,up(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,HE(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,WE(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,up(o,t.snapshotNode,u.oldSnap));else throw Br("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Jm=new mC;class tc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Za(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ec(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sr(this.viewCache_),c=hC(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}function gC(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function _C(i,t,r,o,u){const c=new pC;let d,p;if(r.type===Qt.OVERWRITE){const g=r;g.source.fromUser?d=Ma(i,t,g.path,g.snap,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!se(g.path),d=Oo(i,t,g.path,g.snap,o,u,p,c))}else if(r.type===Qt.MERGE){const g=r;g.source.fromUser?d=vC(i,t,g.path,g.children,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),d=La(i,t,g.path,g.children,o,u,p,c))}else if(r.type===Qt.ACK_USER_WRITE){const g=r;g.revert?d=EC(i,t,g.path,o,u,c):d=wC(i,t,g.path,g.affectedTree,o,u,c)}else if(r.type===Qt.LISTEN_COMPLETE)d=SC(i,t,r.path,o,c);else throw Br("Unknown operation type: "+r.type);const m=c.getChanges();return yC(t,d,m),{viewCache:d,changes:m}}function yC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=Pa(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(BE(Pa(t)))}}function Zm(i,t,r,o,u,c){const d=t.eventCache;if(Ao(o,r)!=null)return t;{let p,m;if(se(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=sr(t),w=g instanceof de?g:de.EMPTY_NODE,y=qm(o,w);p=i.filter.updateFullNode(t.eventCache.getNode(),y,c)}else{const g=Oa(o,sr(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=re(r);if(g===".priority"){M(Fn(r)===1,"Can't have a priority with additional path components");const w=d.getNode();m=t.serverCache.getNode();const y=mp(o,r,w,m);y!=null?p=i.filter.updatePriority(w,y):p=d.getNode()}else{const w=Ce(r);let y;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const T=mp(o,r,d.getNode(),m);T!=null?y=d.getNode().getImmediateChild(g).updateChild(w,T):y=d.getNode().getImmediateChild(g)}else y=ec(o,g,t.serverCache);y!=null?p=i.filter.updateChild(d.getNode(),g,y,w,u,c):p=d.getNode()}}return Bi(t,p,d.isFullyInitialized()||se(r),i.filter.filtersNodes())}}function Oo(i,t,r,o,u,c,d,p){const m=t.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(se(r))g=w.updateFullNode(m.getNode(),o,null);else if(w.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(r,o);g=w.updateFullNode(m.getNode(),A,null)}else{const A=re(r);if(!m.isCompleteForPath(r)&&Fn(r)>1)return t;const O=Ce(r),z=m.getNode().getImmediateChild(A).updateChild(O,o);A===".priority"?g=w.updatePriority(m.getNode(),z):g=w.updateChild(m.getNode(),A,z,O,Jm,null)}const y=$m(t,g,m.isFullyInitialized()||se(r),w.filtersNodes()),T=new tc(u,y,c);return Zm(i,y,r,u,T,p)}function Ma(i,t,r,o,u,c,d){const p=t.eventCache;let m,g;const w=new tc(u,t,c);if(se(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),m=Bi(t,g,!0,i.filter.filtersNodes());else{const y=re(r);if(y===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Bi(t,g,p.isFullyInitialized(),p.isFiltered());else{const T=Ce(r),A=p.getNode().getImmediateChild(y);let O;if(se(T))O=o;else{const H=w.getCompleteChild(y);H!=null?xm(T)===".priority"&&H.getChild(Dm(T)).isEmpty()?O=H:O=H.updateChild(T,o):O=de.EMPTY_NODE}if(A.equals(O))m=t;else{const H=i.filter.updateChild(p.getNode(),y,O,T,w,d);m=Bi(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function gp(i,t){return i.eventCache.isCompleteForChild(t)}function vC(i,t,r,o,u,c,d){let p=t;return o.foreach((m,g)=>{const w=Fe(r,m);gp(t,re(w))&&(p=Ma(i,p,w,g,u,c,d))}),o.foreach((m,g)=>{const w=Fe(r,m);gp(t,re(w))||(p=Ma(i,p,w,g,u,c,d))}),p}function _p(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function La(i,t,r,o,u,c,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;se(r)?g=o:g=new Ee(null).setTree(r,o);const w=t.serverCache.getNode();return g.children.inorderTraversal((y,T)=>{if(w.hasChild(y)){const A=t.serverCache.getNode().getImmediateChild(y),O=_p(i,A,T);m=Oo(i,m,new ke(y),O,u,c,d,p)}}),g.children.inorderTraversal((y,T)=>{const A=!t.serverCache.isCompleteForChild(y)&&T.value===null;if(!w.hasChild(y)&&!A){const O=t.serverCache.getNode().getImmediateChild(y),H=_p(i,O,T);m=Oo(i,m,new ke(y),H,u,c,d,p)}}),m}function wC(i,t,r,o,u,c,d){if(Ao(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(se(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Oo(i,t,r,m.getNode().getChild(r),u,c,p,d);if(se(r)){let g=new Ee(null);return m.getNode().forEachChild(Fr,(w,y)=>{g=g.set(new ke(w),y)}),La(i,t,r,g,u,c,p,d)}else return t}else{let g=new Ee(null);return o.foreach((w,y)=>{const T=Fe(r,w);m.isCompleteForPath(T)&&(g=g.set(w,m.getNode().getChild(T)))}),La(i,t,r,g,u,c,p,d)}}function SC(i,t,r,o,u){const c=t.serverCache,d=$m(t,c.getNode(),c.isFullyInitialized()||se(r),c.isFiltered());return Zm(i,d,r,o,Jm,u)}function EC(i,t,r,o,u,c){let d;if(Ao(o,r)!=null)return t;{const p=new tc(o,t,u),m=t.eventCache.getNode();let g;if(se(r)||re(r)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=Oa(o,sr(t));else{const y=t.serverCache.getNode();M(y instanceof de,"serverChildren would be complete if leaf node"),w=qm(o,y)}w=w,g=i.filter.updateFullNode(m,w,c)}else{const w=re(r);let y=ec(o,w,t.serverCache);y==null&&t.serverCache.isCompleteForChild(w)&&(y=m.getImmediateChild(w)),y!=null?g=i.filter.updateChild(m,w,y,Ce(r),p,c):t.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(m,w,de.EMPTY_NODE,Ce(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Oa(o,sr(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||Ao(o,ge())!=null,Bi(t,g,d,i.filter.filtersNodes())}}function CC(i,t){const r=sr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!se(t)&&!r.getImmediateChild(re(t)).isEmpty())?r.getChild(t):null}function yp(i,t,r,o){t.type===Qt.MERGE&&t.source.queryId!==null&&(M(sr(i.viewCache_),"We should always have a full cache before handling merges"),M(Pa(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=_C(i.processor_,u,t,r,o);return gC(i.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,kC(i,c.changes,c.viewCache.eventCache.getNode())}function kC(i,t,r,o){const u=i.eventRegistrations_;return XE(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;function TC(i){M(!vp,"__referenceConstructor has already been defined"),vp=i}function nc(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return M(c!=null,"SyncTree gave us an op for an invalid query."),yp(c,t,r,o)}else{let c=[];for(const d of i.views.values())c=c.concat(yp(d,t,r,o));return c}}function rc(i,t){let r=null;for(const o of i.views.values())r=r||CC(o,t);return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function IC(i){M(!wp,"__referenceConstructor has already been defined"),wp=i}class Sp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=dC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eg(i,t,r,o,u){return tC(i.pendingWriteTree_,t,r,o,u),u?Ho(i,new ir(jm(),t,r)):[]}function er(i,t,r=!1){const o=nC(i.pendingWriteTree_,t);if(rC(i.pendingWriteTree_,t)){let c=new Ee(null);return o.snap!=null?c=c.set(ge(),!0):Nt(o.children,d=>{c=c.set(new ke(d),!0)}),Ho(i,new Do(o.path,c,r))}else return[]}function Wo(i,t,r){return Ho(i,new ir(Bm(),t,r))}function NC(i,t,r){const o=Ee.fromObject(r);return Ho(i,new qi(Bm(),t,o))}function RC(i,t,r,o){const u=rg(i,o);if(u!=null){const c=ig(u),d=c.path,p=c.queryId,m=It(d,t),g=new ir(Wm(p),m,r);return sg(i,d,g)}else return[]}function xC(i,t,r,o){const u=rg(i,o);if(u){const c=ig(u),d=c.path,p=c.queryId,m=It(d,t),g=Ee.fromObject(r),w=new qi(Wm(p),m,g);return sg(i,d,w)}else return[]}function ic(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(d,p)=>{const m=It(d,t),g=rc(p,m);if(g)return g});return Qm(u,t,c,r,!0)}function Ho(i,t){return tg(t,i.syncPointTree_,null,Gm(i.pendingWriteTree_,ge()))}function tg(i,t,r,o){if(se(i.path))return ng(i,t,r,o);{const u=t.get(ge());r==null&&u!=null&&(r=rc(u,ge()));let c=[];const d=re(i.path),p=i.operationForChild(d),m=t.children.get(d);if(m&&p){const g=r?r.getImmediateChild(d):null,w=Ym(o,d);c=c.concat(tg(p,m,g,w))}return u&&(c=c.concat(nc(u,i,o,r))),c}}function ng(i,t,r,o){const u=t.get(ge());r==null&&u!=null&&(r=rc(u,ge()));let c=[];return t.children.inorderTraversal((d,p)=>{const m=r?r.getImmediateChild(d):null,g=Ym(o,d),w=i.operationForChild(d);w&&(c=c.concat(ng(w,p,m,g)))}),u&&(c=c.concat(nc(u,i,o,r))),c}function rg(i,t){return i.tagToQueryMap.get(t)}function ig(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ke(i.substr(0,t))}}function sg(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const u=Gm(i.pendingWriteTree_,t);return nc(o,r,u,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new sc(r)}node(){return this.node_}}class oc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Fe(this.path_,t);return new oc(this.syncTree_,r)}node(){return ic(this.syncTree_,this.path_)}}const PC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Ep=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return DC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return AC(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},DC=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},AC=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const u=t.node();if(M(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const d=u.getValue();return typeof d!="number"?o:d+o},OC=function(i,t,r,o){return lc(t,new oc(r,i),o)},og=function(i,t,r){return lc(i,new sc(t),r)};function lc(i,t,r){const o=i.getPriority().val(),u=Ep(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const d=i,p=Ep(d.getValue(),t,r);return p!==d.getValue()||u!==d.getPriority().val()?new Be(p,Ke(u)):i}else{const d=i;return c=d,u!==d.getPriority().val()&&(c=c.updatePriority(new Be(u))),d.forEachChild(et,(p,m)=>{const g=lc(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function ac(i,t){let r=t instanceof ke?t:new ke(t),o=i,u=re(r);for(;u!==null;){const c=br(o.node.children,u)||{children:{},childCount:0};o=new uc(u,o,c),r=Ce(r),u=re(r)}return o}function Vr(i){return i.node.value}function lg(i,t){i.node.value=t,Fa(i)}function ug(i){return i.node.childCount>0}function MC(i){return Vr(i)===void 0&&!ug(i)}function $o(i,t){Nt(i.node.children,(r,o)=>{t(new uc(r,i,o))})}function ag(i,t,r,o){r&&t(i),$o(i,u=>{ag(u,t,!0)})}function LC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function es(i){return new ke(i.parent===null?i.name:es(i.parent)+"/"+i.name)}function Fa(i){i.parent!==null&&FC(i.parent,i.name,i)}function FC(i,t,r){const o=MC(r),u=dn(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,Fa(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,Fa(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/[\[\].#$\/\u0000-\u001F\u007F]/,bC=/[\[\].#$\u0000-\u001F\u007F]/,aa=10*1024*1024,cg=function(i){return typeof i=="string"&&i.length!==0&&!zC.test(i)},fg=function(i){return typeof i=="string"&&i.length!==0&&!bC.test(i)},UC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),fg(i)},dg=function(i,t,r,o){o&&t===void 0||cc($a(i,"value"),t,r)},cc=function(i,t,r){const o=r instanceof ke?new SE(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Jn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Jn(o)+" with contents = "+t.toString());if(um(t))throw new Error(i+"contains "+t.toString()+" "+Jn(o));if(typeof t=="string"&&t.length>aa/3&&jo(t)>aa)throw new Error(i+"contains a string greater than "+aa+" utf8 bytes "+Jn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(Nt(t,(d,p)=>{if(d===".value")u=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!cg(d)))throw new Error(i+" contains an invalid key ("+d+") "+Jn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);EE(o,d),cc(i,p,o),CE(o)}),u&&c)throw new Error(i+' contains ".value" child '+Jn(o)+" in addition to actual children.")}},hg=function(i,t,r,o){if(!fg(r))throw new Error($a(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),hg(i,t,r)},pg=function(i,t){if(re(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},BC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!cg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!UC(r))throw new Error($a(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mg(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!Am(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function fn(i,t,r){mg(i,r),HC(i,o=>bt(o,t)||bt(t,o))}function HC(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?($C(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function $C(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Ui&&Ze("event: "+r.toString()),$r(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="repo_interrupt",GC=25;class KC{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Po(),this.transactionQueueTree_=new uc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QC(i,t,r){if(i.stats_=Qa(i.repoInfo_),i.forceRestClient_||GS())i.server_=new xo(i.repoInfo_,(o,u,c,d)=>{Cp(i,o,u,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>kp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ln(i.repoInfo_,t,(o,u,c,d)=>{Cp(i,o,u,c,d)},o=>{kp(i,o)},o=>{qC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=XS(i.repoInfo_,()=>new YE(i.stats_,i.server_)),i.infoData_=new VE,i.infoSyncTree_=new Sp({startListening:(o,u,c,d)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Wo(i.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),dc(i,"connected",!1),i.serverSyncTree_=new Sp({startListening:(o,u,c,d)=>(i.server_.listen(o,c,u,(p,m)=>{const g=d(p,m);fn(i.eventQueue_,o._path,g)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function gg(i){const r=i.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function fc(i){return PC({timestamp:gg(i)})}function Cp(i,t,r,o,u){i.dataUpdateCount++;const c=new ke(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(u)if(o){const m=Co(r,g=>Ke(g));d=xC(i.serverSyncTree_,c,m,u)}else{const m=Ke(r);d=RC(i.serverSyncTree_,c,m,u)}else if(o){const m=Co(r,g=>Ke(g));d=NC(i.serverSyncTree_,c,m)}else{const m=Ke(r);d=Wo(i.serverSyncTree_,c,m)}let p=c;d.length>0&&(p=Vo(i,c)),fn(i.eventQueue_,p,d)}function kp(i,t){dc(i,"connected",t),t===!1&&XC(i)}function qC(i,t){Nt(t,(r,o)=>{dc(i,r,o)})}function dc(i,t,r){const o=new ke("/.info/"+t),u=Ke(r);i.infoData_.updateSnapshot(o,u);const c=Wo(i.infoSyncTree_,o,u);fn(i.eventQueue_,o,c)}function _g(i){return i.nextWriteId_++}function YC(i,t,r,o,u){hc(i,"set",{path:t.toString(),value:r,priority:o});const c=fc(i),d=Ke(r,o),p=ic(i.serverSyncTree_,t),m=og(d,p,c),g=_g(i),w=eg(i.serverSyncTree_,t,m,g,!0);mg(i.eventQueue_,w),i.server_.put(t.toString(),d.val(!0),(T,A)=>{const O=T==="ok";O||ft("set at "+t+" failed: "+T);const H=er(i.serverSyncTree_,g,!O);fn(i.eventQueue_,t,H),ZC(i,u,T,A)});const y=Eg(i,t);Vo(i,y),fn(i.eventQueue_,y,[])}function XC(i){hc(i,"onDisconnectEvents");const t=fc(i),r=Po();xa(i.onDisconnect_,ge(),(u,c)=>{const d=OC(u,c,i.serverSyncTree_,t);Um(r,u,d)});let o=[];xa(r,ge(),(u,c)=>{o=o.concat(Wo(i.serverSyncTree_,u,c));const d=Eg(i,u);Vo(i,d)}),i.onDisconnect_=Po(),fn(i.eventQueue_,ge(),o)}function JC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(VC)}function hc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ze(r,...t)}function ZC(i,t,r,o){t&&$r(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const d=new Error(c);d.code=u,t(d)}})}function yg(i,t,r){return ic(i.serverSyncTree_,t,r)||de.EMPTY_NODE}function pc(i,t=i.transactionQueueTree_){if(t||Go(i,t),Vr(t)){const r=wg(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&e0(i,es(t),r)}else ug(t)&&$o(t,r=>{pc(i,r)})}function e0(i,t,r){const o=r.map(g=>g.currentWriteId),u=yg(i,t,o);let c=u;const d=u.hash();for(let g=0;g<r.length;g++){const w=r[g];M(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const y=It(t,w.path);c=c.updateChild(y,w.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{hc(i,"transaction put response",{path:m.toString(),status:g});let w=[];if(g==="ok"){const y=[];for(let T=0;T<r.length;T++)r[T].status=2,w=w.concat(er(i.serverSyncTree_,r[T].currentWriteId)),r[T].onComplete&&y.push(()=>r[T].onComplete(null,!0,r[T].currentOutputSnapshotResolved)),r[T].unwatcher();Go(i,ac(i.transactionQueueTree_,t)),pc(i,i.transactionQueueTree_),fn(i.eventQueue_,t,w);for(let T=0;T<y.length;T++)$r(y[T])}else{if(g==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{ft("transaction at "+m.toString()+" failed: "+g);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=g}Vo(i,t)}},d)}function Vo(i,t){const r=vg(i,t),o=es(r),u=wg(i,r);return t0(i,u,o),o}function t0(i,t,r){if(t.length===0)return;const o=[];let u=[];const d=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=It(r,m.path);let w=!1,y;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)w=!0,y=m.abortReason,u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=GC)w=!0,y="maxretry",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else{const T=yg(i,m.path,d);m.currentInputSnapshot=T;const A=t[p].update(T.val());if(A!==void 0){cc("transaction failed: Data returned ",A,m.path);let O=Ke(A);typeof A=="object"&&A!=null&&dn(A,".priority")||(O=O.updatePriority(T.getPriority()));const z=m.currentWriteId,ie=fc(i),X=og(O,T,ie);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=X,m.currentWriteId=_g(i),d.splice(d.indexOf(z),1),u=u.concat(eg(i.serverSyncTree_,m.path,X,m.currentWriteId,m.applyLocally)),u=u.concat(er(i.serverSyncTree_,z,!0))}else w=!0,y="nodata",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0))}fn(i.eventQueue_,r,u),u=[],w&&(t[p].status=2,function(T){setTimeout(T,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(y==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(y),!1,null))))}Go(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)$r(o[p]);pc(i,i.transactionQueueTree_)}function vg(i,t){let r,o=i.transactionQueueTree_;for(r=re(t);r!==null&&Vr(o)===void 0;)o=ac(o,r),t=Ce(t),r=re(t);return o}function wg(i,t){const r=[];return Sg(i,t,r),r.sort((o,u)=>o.order-u.order),r}function Sg(i,t,r){const o=Vr(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);$o(t,u=>{Sg(i,u,r)})}function Go(i,t){const r=Vr(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,lg(t,r.length>0?r:void 0)}$o(t,o=>{Go(i,o)})}function Eg(i,t){const r=es(vg(i,t)),o=ac(i.transactionQueueTree_,t);return LC(o,u=>{ca(i,u)}),ca(i,o),ag(o,u=>{ca(i,u)}),r}function ca(i,t){const r=Vr(t);if(r){const o=[];let u=[],c=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(M(c===d-1,"All SENT items should be at beginning of queue."),c=d,r[d].status=3,r[d].abortReason="set"):(M(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),u=u.concat(er(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?lg(t,void 0):r.length=c+1,fn(i.eventQueue_,es(t),u);for(let d=0;d<o.length;d++)$r(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function r0(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ft(`Invalid query segment '${r}' in query '${i}'`)}return t}const Tp=function(i,t){const r=i0(i),o=r.namespace;r.domain==="firebase.com"&&cn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||bS();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new wm(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ke(r.pathString)}},i0=function(i){let t="",r="",o="",u="",c="",d=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),t=i.substring(0,Math.min(w,y)),w<y&&(u=n0(i.substring(w,y)));const T=r0(i.substring(Math.min(i.length,y)));g=t.indexOf(":"),g>=0?(d=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if(A.toLowerCase()==="localhost")r="localhost";else if(A.split(".").length<=2)r=A;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),r=t.substring(O+1),c=o}"ns"in T&&(c=T.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:d,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s0=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=Ip.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let d=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)d+=Ip.charAt(t[u]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return se(this._path)?null:xm(this._path)}get ref(){return new lr(this._repo,this._path)}get _queryIdentifier(){const t=cp(this._queryParams),r=Ga(t);return r==="{}"?"default":r}get _queryObject(){return cp(this._queryParams)}isEqual(t){if(t=Wr(t),!(t instanceof mc))return!1;const r=this._repo===t._repo,o=Am(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+wE(this._path)}}class lr extends mc{constructor(t,r){super(t,r,new Ja,!1)}get parent(){const t=Dm(this._path);return t===null?null:new lr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function o0(i,t){return i=Wr(i),i._checkNotDeleted("ref"),za(i._root,t)}function za(i,t){return i=Wr(i),re(i._path)===null?jC("child","path",t):hg("child","path",t),new lr(i._repo,Fe(i._path,t))}function l0(i,t){i=Wr(i),pg("push",i._path),dg("push",t,i._path,!0);const r=gg(i._repo),o=s0(r),u=za(i,o),c=za(i,o);let d;return t!=null?d=u0(c,t).then(()=>c):d=Promise.resolve(c),u.then=d.then.bind(d),u.catch=d.then.bind(d,void 0),u}function u0(i,t){i=Wr(i),pg("set",i._path),dg("set",t,i._path,!1);const r=new Uo;return YC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}TC(lr);IC(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="FIREBASE_DATABASE_EMULATOR_HOST",ba={};let c0=!1;function f0(i,t,r,o){i.repoInfo_=new wm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function d0(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Tp(c,u),p=d.repoInfo,m;typeof process<"u"&&Vh&&(m=Vh[a0]),m?(c=`http://${m}?ns=${p.namespace}`,d=Tp(c,u),p=d.repoInfo):d.repoInfo.secure;const g=new QS(i.name,i.options,t);BC("Invalid Firebase Database URL",d),se(d.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const w=p0(p,i,g,new KS(i.name,r));return new m0(w,i)}function h0(i,t){const r=ba[t];(!r||r[i.key]!==i)&&cn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),JC(i),delete r[i.key]}function p0(i,t,r,o){let u=ba[t.name];u||(u={},ba[t.name]=u);let c=u[i.toURLString()];return c&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new KC(i,c0,r,o),u[i.toURLString()]=c,c}class m0{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lr(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(h0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&cn("Cannot call "+t+" on a deleted database.")}}function g0(i=ES(),t){const r=yS(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=lw("database");o&&_0(r,...o)}return r}function _0(i,t,r,o={}){i=Wr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new go(go.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:uw(o.mockUserToken,i.app.options.projectId);c=new go(d)}f0(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i){AS(SS),To(new Gi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return d0(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Mr(Gh,Kh,i),Mr(Gh,Kh,"esm2017")}ln.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};ln.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};y0();var v0="firebase",w0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(v0,w0,"app");const S0={apiKey:"AIzaSyBU-VkKYC9hyBR3LbXiCpiOQ_tfwightfY",authDomain:"comidarapida-a295b.firebaseapp.com",databaseURL:"https://comidarapida-a295b-default-rtdb.firebaseio.com",projectId:"comidarapida-a295b",storageBucket:"comidarapida-a295b.firebaseapp.com",messagingSenderId:"230786412117",appId:"1:230786412117:web:79421693d9b8dc4458aedc",measurementId:"G-8VCVHZKGS8"},E0=nm(S0),C0=g0(E0),fa=bv("orders/addOrder",async i=>{const t=o0(C0,"items");return await l0(t,i),da.info("Datos enviados a Firebase"),i}),k0=Wp({name:"orders",initialState:{orders:[],status:"idle",error:null},reducers:{},extraReducers:i=>{i.addCase(fa.pending,t=>{t.status="loading",t.error=null}).addCase(fa.fulfilled,t=>{t.status="succeeded",t.error=null}).addCase(fa.rejected,(t,r)=>{t.status="failed",t.error=r.error.message||"Error al realizar el pedido"})}}),T0=k0.reducer,I0=i=>t=>r=>{console.log(" Enviando accin:",r),console.log(" Estado anterior:",i.getState());const o=t(r);return console.log(" Nuevo estado:",i.getState()),o},N0=xv({reducer:{foods:Xv,orders:T0},middleware:i=>i().concat(I0)});xy.createRoot(document.getElementById("root")).render(fe.jsx(ze.StrictMode,{children:fe.jsx(qy,{store:N0,children:fe.jsx(rv,{})})}));export{Pp as a,D0 as b,fa as c,fe as j,da as l,ze as r,Jy as u};
